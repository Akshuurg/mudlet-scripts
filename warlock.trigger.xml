<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE MudletPackage>
<MudletPackage version="1.001">
    <TriggerPackage>
        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
            <name>Prompt</name>
            <script></script>
            <triggerType>0</triggerType>
            <conditonLineDelta>0</conditonLineDelta>
            <mStayOpen>0</mStayOpen>
            <mCommand></mCommand>
            <packageName></packageName>
            <mFgColor>#ff0000</mFgColor>
            <mBgColor>#ffff00</mBgColor>
            <mSoundFile></mSoundFile>
            <colorTriggerFgColor>#000000</colorTriggerFgColor>
            <colorTriggerBgColor>#000000</colorTriggerBgColor>
            <regexCodeList/>
            <regexCodePropertyList/>
            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>jest_prompt</name>
                <script>raiseEvent(&quot;gotPrompt&quot;)
--echo(&quot;wizline&quot;, &quot;PROMPT!\n&quot;)</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>return isPrompt()</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>4</integer>
                </regexCodePropertyList>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>usun_prompt</name>
                    <script>selectCurrentLine()
deleteLine()
--echo(&quot;wizline&quot;, &quot;USUWAM LINIE PROMPTA\n&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>&gt; </string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
            </TriggerGroup>
            <Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>usuwaj_dziubki</name>
                <script>--echo(&quot;wizline&quot;, &quot;USUWAM DZIUBEK\n&quot;)

selectString(&quot;&gt; &quot;, 1)
replace(&quot;&quot;)
line = getCurrentLine()
</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>&gt; </string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>2</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>podmieniaj_taby</name>
                <script>while selectString(&quot;\t&quot;,1) &gt; -1 do
  replace(&quot;    &quot;)
end</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>\t</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
        </TriggerGroup>
        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
            <name>Chodzenie</name>
            <script></script>
            <triggerType>0</triggerType>
            <conditonLineDelta>0</conditonLineDelta>
            <mStayOpen>0</mStayOpen>
            <mCommand></mCommand>
            <packageName></packageName>
            <mFgColor>#ff0000</mFgColor>
            <mBgColor>#ffff00</mBgColor>
            <mSoundFile></mSoundFile>
            <colorTriggerFgColor>#000000</colorTriggerFgColor>
            <colorTriggerBgColor>#000000</colorTriggerBgColor>
            <regexCodeList/>
            <regexCodePropertyList/>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>brak_przejscia</name>
                <script>selectCurrentLine()
fg(&quot;red&quot;)
resetFormat()
raiseEvent(&quot;moveNoExit&quot;, matches[2])</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#000000</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^Nie widzisz zadnego wyjscia prowadzacego na (.+)\.$</string>
                    <string>^Schodzisz z traktu na (.+), lecz zawracasz nie znalazlszy sciezki.$</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>Nie_przeszlismy</name>
                <script>selectCurrentLine()
fg(&quot;red&quot;)
resetFormat()
raiseEvent(&quot;moveNoExit&quot;, matches[2])</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^Jestes tak zmeczony, ze nie mozesz isc (w tym kierunku).$</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>drzwi_zamkniete</name>
                <script>--drzwi_zamkniete
selectCurrentLine()
fg(&quot;red&quot;)
resetFormat()
raiseEvent(&quot;moveNoExit&quot;, matches[3])</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^(.+ (drzwi|wrota|brama)) (sa|jest) (zamkniete|zamknieta|zamkniety).$</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
        </TriggerGroup>
        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
            <name>Lokacja</name>
            <script></script>
            <triggerType>0</triggerType>
            <conditonLineDelta>0</conditonLineDelta>
            <mStayOpen>0</mStayOpen>
            <mCommand></mCommand>
            <packageName></packageName>
            <mFgColor>#00aa00</mFgColor>
            <mBgColor>#000000</mBgColor>
            <mSoundFile></mSoundFile>
            <colorTriggerFgColor>#000000</colorTriggerFgColor>
            <colorTriggerBgColor>#000000</colorTriggerBgColor>
            <regexCodeList/>
            <regexCodePropertyList/>
            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>Opis</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList/>
                <regexCodePropertyList/>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>ciemno_nie_widac</name>
                    <script>selectCurrentLine()
fg(&quot;red&quot;)
resetFormat()
--raiseEvent(&quot;gotRoomDescriptionDark&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Panujacy mrok nie pozwala ci dokladnie okreslic gdzie sie znajdujesz.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>0</integer>
                    </regexCodePropertyList>
                </Trigger>
            </TriggerGroup>
            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>Wyjscia</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList/>
                <regexCodePropertyList/>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>widoczne_wyjscia</name>
                    <script>--echo(&quot;\nIle: &quot; .. matches[2] .. &quot;, wyjscia: &quot; .. matches[3]);
selectCurrentLine()
fg(&quot;dark_green&quot;)
selectCaptureGroup(2)
fg(&quot;green&quot;)
selectCaptureGroup(3)
fg(&quot;green&quot;)
resetFormat()
--raiseEvent(&quot;gotRoomExits&quot;, matches[2], matches[3])</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#00aa00</mFgColor>
                    <mBgColor>#000000</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^Sa tutaj (.+) widoczne wyjscia: (.+)\.$</string>
                        <string>^Jest tutaj (.+) widoczne wyjscie: (.+)\.$</string>
                        <string>^Jest tutaj (.+) widocznych wyjsc: (.+)\.$</string>
                        <string>^(Jedyne) widoczne wyjscie to: (.+)\.$</string>
                        <string>^(Zdaje ci sie) ze mozna by stad wyjsc gdzies na (.+)\.$</string>
                        <string>^Zdaje ci sie ze (jedyne) wyjscie stad to (.+)\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                        <integer>1</integer>
                        <integer>1</integer>
                        <integer>1</integer>
                        <integer>1</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>ciemno_brak_wyjsc</name>
                    <script>selectCurrentLine()
fg(&quot;red&quot;)
resetFormat()
--raiseEvent(&quot;gotRoomExitsDark&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Wyjsc chyba bedziesz musial szukac po omacku.</string>
                        <string>Zdaje ci sie ze nie ma stad wyjscia.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
            </TriggerGroup>
        </TriggerGroup>
        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
            <name>Mowienie</name>
            <script></script>
            <triggerType>0</triggerType>
            <conditonLineDelta>0</conditonLineDelta>
            <mStayOpen>0</mStayOpen>
            <mCommand></mCommand>
            <packageName></packageName>
            <mFgColor>#ff0000</mFgColor>
            <mBgColor>#ffff00</mBgColor>
            <mSoundFile></mSoundFile>
            <colorTriggerFgColor>#000000</colorTriggerFgColor>
            <colorTriggerBgColor>#000000</colorTriggerBgColor>
            <regexCodeList/>
            <regexCodePropertyList/>
            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>wiz</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>WEZWANIE</string>
                    <string>odpowiada: </string>
                    <string>Odpowiadasz</string>
                    <string>przemawia do Ciebie</string>
                    <string>Przemawiasz</string>
                    <string>@</string>
                    <string>&lt;</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>2</integer>
                    <integer>0</integer>
                    <integer>2</integer>
                    <integer>0</integer>
                    <integer>2</integer>
                    <integer>2</integer>
                    <integer>2</integer>
                </regexCodePropertyList>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>wezwania</name>
                    <script>selectCaptureGroup(2)
fg(&quot;firebrick&quot;)
selectCaptureGroup(3)
fg(&quot;white&quot;)
resetFormat()

wizConsole:cecho(&quot;[&quot; .. getTime(true, &quot;HH:mm&quot;) .. &quot;] &lt;red&gt;&quot; .. matches[2] .. &quot;: &lt;white&gt;&quot; .. matches[3] .. &quot;&lt;reset&gt;\n&quot;)
flashChatContainerButton(wizContainer, true)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^WEZWANIE ciebie od '(.+)': (.+)</string>
                        <string>(.+) odpowiada: (.+)</string>
                        <string>^WEZWANIE kogokolwiek od '(.+)': (.+)</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                        <integer>1</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>odpowiadam</name>
                    <script>komu = matches[2]
tekst = matches[3]

selectCaptureGroup(2)
fg(&quot;firebrick&quot;)
selectCaptureGroup(3)
fg(&quot;white&quot;)

resetFormat()

wizConsole:cecho(&quot;[&quot; .. getTime(true, &quot;HH:mm&quot;) .. &quot;] &lt;red&gt;-&gt; &quot; .. komu .. &quot;: &lt;white&gt;&quot; .. tekst .. &quot;&lt;reset&gt;\n&quot;)
flashChatContainerButton(wizContainer, true)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^Odpowiadasz (.+): (.+)</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>incoming_tell_short</name>
                    <script>kto = matches[2]
tekst = matches[3]

selectCaptureGroup(2)
fg(&quot;firebrick&quot;)
selectCaptureGroup(3)
fg(&quot;white&quot;)

resetFormat()

wizConsole:cecho(&quot;[&quot; .. getTime(true, &quot;HH:mm&quot;) .. &quot;] &lt;red&gt;&quot; .. kto .. &quot;: &lt;white&gt;&quot; .. tekst .. &quot;&lt;reset&gt;\n&quot;)
flashChatContainerButton(wizContainer, true)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>(.+) przemawia do Ciebie: (.+)</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>tell</name>
                    <script>selectCaptureGroup(2)
fg(&quot;firebrick&quot;)
selectCaptureGroup(3)
fg(&quot;white&quot;)
resetFormat()

wizConsole:cecho(&quot;[&quot; .. getTime(true, &quot;HH:mm&quot;) .. &quot;] &lt;red&gt;-&gt; do &quot; .. matches[2] .. &quot;: &lt;white&gt;&quot; .. matches[3] .. &quot;&lt;reset&gt;\n&quot;)
flashChatContainerButton(wizContainer, true)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^Przemawiasz do (.+?): (.+)</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>wizline</name>
                    <script>--display(matches)
line = matches[2]
if(line == &quot;@&quot;) then
	line = &quot;&quot;
else
	line = &quot;[&quot; .. line .. &quot;] &quot;
end
wizConsole:cecho(&quot;[&quot; .. getTime(true, &quot;HH:mm&quot;) .. &quot;] &lt;light_gray&gt;&quot; .. line .. &quot;&lt;white&gt;&quot; .. matches[3] .. &quot;: &quot; .. matches[4] .. &quot;&lt;reset&gt;\n&quot;)
flashChatContainerButton(wizContainer, true)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ffffff</mFgColor>
                    <mBgColor>#000000</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^(@) (.+): (.+)</string>
                        <string>^&lt;(.+)&gt; (.+): (.+)</string>
                        <string>^(@) (\w+) (.+)</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                        <integer>1</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
            </TriggerGroup>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>incoming_tell</name>
                <script>--display(multimatches)
kto = multimatches[1][2]
tekst = multimatches[3][1]

selectString(tekst, 1)
fg(&quot;white&quot;)
resetFormat()

wizConsole:cecho(&quot;[&quot; .. getTime(true, &quot;HH:mm&quot;) .. &quot;] &lt;red&gt;&quot; .. kto .. &quot;: &lt;white&gt;&quot; .. tekst .. &quot;&lt;reset&gt;\n&quot;)
flashChatContainerButton(wizContainer, true)</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>3</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^Nagle czujesz jak jakas magiczna sila wdziera sie do twojej glowy. Wewnatrz twego umyslu rozbrzmiewa (glos .+) : </string>
                    <string>1</string>
                    <string>(.+)</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                    <integer>5</integer>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>mowa</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>Mowisz</string>
                    <string>Krzyczysz</string>
                    <string>Wrzeszczysz</string>
                    <string>mowi|dudni|szepce|spiewa|pomrukuje|piszczy|bulgocze|krzyczy|wrzeszczy|szepcze|mruczy|syczy|huczy|charczy|grzmi|nuci</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>2</integer>
                    <integer>2</integer>
                    <integer>2</integer>
                    <integer>1</integer>
                </regexCodePropertyList>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>mowienie</name>
                    <script>kto = matches[2]
jak = matches[4]
cel = matches[6]
tekst = matches[7]
--display(matches)
selectCurrentLine()
fg(&quot;cyan&quot;)

if(cel == &quot;ciebie&quot;) then
	selectCaptureGroup(6)
	fg(&quot;white&quot;)
end
chatConsole:cecho(&quot;[&quot; .. getTime(true, &quot;HH:mm&quot;) .. &quot;] &lt;cyan&gt;&quot; .. kto .. jak .. (cel ~= &quot;&quot; and (&quot; do &quot; .. cel) or (&quot;&quot;)) .. &quot;: &lt;white&gt;&quot; .. tekst .. &quot;&lt;reset&gt;\n&quot;)
flashChatContainerButton(chatContainer)
resetFormat()</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>(.+) (mowi|dudni|szepce|spiewa|pomrukuje|piszczy|bulgocze|krzyczy|wrzeszczy|szepcze|mruczy|syczy|huczy|charczy|grzmi|nuci)()( do (.+)|): (.+)</string>
                        <string>(.+) (mowi|dudni|szepce|spiewa|pomrukuje|piszczy|bulgocze|krzyczy|wrzeszczy|szepcze|mruczy|syczy|huczy|charczy|grzmi|nuci)( .*?|)( do (.+)|): (.+)</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>ja mowie</name>
                    <script>selectCurrentLine()
--display(matches)

co = matches[2]
jak = matches[3]
cel = matches[5]
tekst = matches[6]
if(co == &quot;Szepczesz&quot;) then
	fg(&quot;blue&quot;)
else
	fg(&quot;cyan&quot;)
end
chatConsole:cecho(&quot;[&quot; .. getTime(true, &quot;HH:mm&quot;) .. &quot;] &lt;cyan&gt;&quot; .. co .. jak .. (cel ~= &quot;&quot; and (&quot; do &quot; .. cel) or (&quot;&quot;)) .. &quot;: &lt;white&gt;&quot; .. tekst .. &quot;&lt;reset&gt;\n&quot;)
flashChatContainerButton(chatContainer)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#000000</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^(Mowisz|Krzyczysz|Wrzeszczysz|Szepczesz)( .*?|)( do (.+)|): (.+)</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
            </TriggerGroup>
        </TriggerGroup>
        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
            <name>kondycja</name>
            <script></script>
            <triggerType>0</triggerType>
            <conditonLineDelta>0</conditonLineDelta>
            <mStayOpen>0</mStayOpen>
            <mCommand></mCommand>
            <packageName></packageName>
            <mFgColor>#ff0000</mFgColor>
            <mBgColor>#ffff00</mBgColor>
            <mSoundFile></mSoundFile>
            <colorTriggerFgColor>#000000</colorTriggerFgColor>
            <colorTriggerBgColor>#000000</colorTriggerBgColor>
            <regexCodeList/>
            <regexCodePropertyList/>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>moje_cudze_hp</name>
                <script>--display(matches)
kto = #matches[3] &gt; 0 and matches[3] or matches[4]
poziom = matches[6]
ipoz, max = jakiPoziomOpisu(kondycje, poziom)
if(ipoz) then
	selectCaptureGroup(6)
	setFgColor(255 - (ipoz * 255 / max), ipoz * 255 / max, 60);
end

resetFormat();</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^((Jestes)|(.+) jest) (fizycznie |)(na skraju smierci|ledwo zyw(y|a|e)|zmasakrowan(y|a|e)|ciezko rann(y|a|e)|w zlym stanie|w zlej kondycji|rann(y|a|e)|poranion(y|a|e)|pokiereszowan(y|a|e)|lekko rann(y|a|e)|poturbowan(y|a|e)|w dobrym stanie|w swietnej kondycji|w pelni zdrow(|a|e))[\.,]</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>moja_mana</name>
                <script>-- display(matches)
poziom = matches[3]
ipoz, max = jakiPoziomOpisu(mana, poziom)
if(ipoz) then
	selectCaptureGroup(3)
	setFgColor(255 - (ipoz * (255 / max)), ipoz * (255 / max), 60);
end

resetFormat();</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>(^Jestes|, zas) mentalnie (u kresu sil|wykonczon(y|a)|wyczerpan(y|a)|w zlej kondycji|bardzo zmeczon(y|a)|zmeczon(y|a)|znuzon(y|a)|oslabion(y|a)|nadwyrezon(y|a)|lekko oslabion(y|a)|nadwatlon(y|a)|w pelni sil)\.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>panika</name>
                <script>--display(matches)
poziom = matches[2]
ipoz, max = jakiPoziomOpisu(panika, poziom)
if(ipoz) then
	selectCaptureGroup(2)
	setFgColor(255 - (ipoz * (255 / max)), ipoz * (255 / max), 60);
end

resetFormat();</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^Czujesz sie (bardzo bezpiecznie|bezpiecznie|spokojnie|zaniepokojon(y|a)|nieswojo|niespokojnie|lekliwie|trwozliwie|strachliwie|nerwowo|przerazon(y|a)|histerycznie przerazon(y|a)|smiertelnie przerazon(y|a))[\. ]</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>picie_jedzenie</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^(Chce ci sie bardzo pic|Chce ci sie pic|Troche chce ci sie pic|Nie chce ci sie pic) i (jestes bardzo glodn(y|a)|jestes glodn(y|a)|najedzon(y|a)|bardzo najedzon(y|a)).</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>zmeczenie</name>
                <script>--display(matches)
poziom = matches[2]
ipoz, max = jakiPoziomOpisu(zmeczenie, poziom)
if(ipoz) then
	selectCaptureGroup(2)
	setFgColor(255 - (ipoz * 255 / max), ipoz * 255 / max, 60);
end
resetFormat();</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string> i jestes (w pelni wypoczet(y|a)|wypoczet(y|a)|troche zmeczon(y|a)|zmeczon(y|a)|bardzo zmeczon(y|a)|nieco wyczerpan(y|a)|wyczerpan(y|a)|bardzo wyczerpan(y|a)|wycienczon(y|a)|calkowicie wycienczon(y|a))[\., ]</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
        </TriggerGroup>
        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
            <name>walka</name>
            <script></script>
            <triggerType>0</triggerType>
            <conditonLineDelta>0</conditonLineDelta>
            <mStayOpen>0</mStayOpen>
            <mCommand></mCommand>
            <packageName></packageName>
            <mFgColor>#ff0000</mFgColor>
            <mBgColor>#ffff00</mBgColor>
            <mSoundFile></mSoundFile>
            <colorTriggerFgColor>#000000</colorTriggerFgColor>
            <colorTriggerBgColor>#000000</colorTriggerBgColor>
            <regexCodeList/>
            <regexCodePropertyList/>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>zgony</name>
                <script>selectCurrentLine()
fg(&quot;red&quot;)
selectCaptureGroup(4)
fg(&quot;white&quot;)

resetFormat()</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^()Zabil(a|e|o)s (.+).</string>
                    <string>(.+) zabil(|a|o) (.+).</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>ataki</name>
                <script>selectCurrentLine()
fg(&quot;red&quot;)
selectCaptureGroup(2)
fg(&quot;white&quot;)
resetFormat()</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^()Atakujesz (.+)$</string>
                    <string>(.+) atakuje (.+)(.|!)$</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>bez_obrazen</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>unika</string>
                    <string>paruje</string>
                    <string>zastawia</string>
                    <string>zatrzymuje</string>
                    <string>nie udaje sie trafic</string>
                    <string>udaje sie uniknac</string>
                    <string>wyparowany</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>0</integer>
                    <integer>0</integer>
                    <integer>0</integer>
                    <integer>0</integer>
                    <integer>0</integer>
                    <integer>0</integer>
                    <integer>0</integer>
                </regexCodePropertyList>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>uniki</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>unika</string>
                        <string>uniknac</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>0</integer>
                        <integer>0</integer>
                    </regexCodePropertyList>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>uniki_moje</name>
                        <script>czym_kogo = matches[4]

local s = czym_kogo:split(&quot; &quot;)
for i = 2, #s do
	if(s[i]:sub(-1) ~= s[1]:sub(-1)) then
		czym = table.concat(s, &quot; &quot;, 1, i - 1)
		kogo = table.concat(s, &quot; &quot;, i)
		break
	end
end

selectString(kogo, 1)
fg(&quot;white&quot;)

selectString(&quot;unikasz&quot;, 1)
fg(&quot;green&quot;)

deselect()
resetFormat()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(Powolnie|Niezgrabnie|Nieporadnie|Szczesliwie|Niezrecznie|Niemrawo|Wprawnie|Pewnie|Plynnie|Prosto|Zwinnie|Zrecznie|Pewnie|Zrecznie|Dynamicznie|Plynnie|Zgrabnie|Blyskawicznie|Mistrzowsko|Perfekcyjnie) unikasz (ciecia|pchniecia|uderzenia) (.+).$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>uniki_moje_ani</name>
                        <script>selectCaptureGroup(2)
fg(&quot;white&quot;)

selectString(&quot;uniknac&quot;, 1)
fg(&quot;PaleGreen&quot;)

deselect()
resetFormat()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>(.+) probuje cie trafic (.+), lecz tobie udaje sie uniknac tego ciosu.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>uniki_czyjes</name>
                        <script>kto = matches[2]
czyjego = matches[4]
czym = matches[6]

selectCaptureGroup(2)
fg(&quot;white&quot;)

selectString(&quot;unika&quot;, 1)
fg(&quot;gold&quot;)

deselect()
resetFormat()
</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>(.+) (powolnie|niezgrabnie|nieporadnie|szczesliwie|niezrecznie|niemrawo|wprawnie|pewnie|plynnie|prosto|zwinnie|zrecznie|pewnie|zrecznie|dynamicznie|plynnie|zgrabnie|blyskawicznie|mistrzowsko|perfekcyjnie) unika (twojego) (ciecia|pchniecia|uderzenia) (.+).$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>uniki_ktos_kogos</name>
                        <script>kto = matches[2]
czym_czyjego = matches[4]

selectCaptureGroup(2)
fg(&quot;white&quot;)

selectString(&quot;unika&quot;, 1)
fg(&quot;gold&quot;)

deselect()
resetFormat()
</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>(.+) (powolnie|niezgrabnie|nieporadnie|szczesliwie|niezrecznie|niemrawo|wprawnie|pewnie|plynnie|prosto|zwinnie|zrecznie|pewnie|zrecznie|dynamicznie|plynnie|zgrabnie|blyskawicznie|mistrzowsko|perfekcyjnie) unika (ciecia|pchniecia|uderzenia) (.+).$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>parowanie</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>paruje</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>0</integer>
                    </regexCodePropertyList>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>parowania_moje</name>
                        <script>kogo = matches[2]
czym = matches[4]
czym_paruje = matches[7]

selectCaptureGroup(2)
fg(&quot;white&quot;)
selectCaptureGroup(6)
fg(&quot;green&quot;)

resetFormat()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>(.+) wyprowadza (uderzenie|ciecie|pchniecie) (.+), lecz (szczesliwie|niemrawo|z trudem|z wysilkiem|z mozolem|pewnie|zgrabnie|umiejetnie|wprawnie|zrecznie|zwinnie|szybko|perfekcyjnie) (parujesz) je (.+).$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>parowania_czyjes</name>
                        <script>czym = matches[3]
kogo = matches[4]
czym_paruje = matches[7]

selectCaptureGroup(4)
fg(&quot;white&quot;)
selectCaptureGroup(6)
fg(&quot;gold&quot;)

resetFormat()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^Wyprowadzasz (uderzenie|ciecie|pchniecie) (.+), lecz (.+) (szczesliwie|niemrawo|z trudem|z wysilkiem|z mozolem|pewnie|zgrabnie|umiejetnie|wprawnie|zrecznie|zwinnie|szybko|perfekcyjnie) (paruje) je (.+).$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>tarcza</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>zastawia</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>0</integer>
                    </regexCodePropertyList>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>tarcza_moja</name>
                        <script>kto = matches[2]
czym = matches[4]
czym_zastawia = matches[6]

selectCaptureGroup(2)
fg(&quot;white&quot;)
selectCaptureGroup(5)
fg(&quot;green&quot;)
selectCaptureGroup(6)
fg(&quot;white&quot;)

resetFormat()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>(.+) wyprowadza (ciecie|pchniecie|uderzenie) (.+), lecz (zastawiasz sie) (.+).</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>tarcza_czyjas</name>
                        <script>kto = matches[2]
kogo = matches[5]
czym = matches[4]
czym_zastawia = matches[7]

selectCaptureGroup(2)
fg(&quot;white&quot;)
selectCaptureGroup(6)
fg(&quot;gold&quot;)
selectCaptureGroup(7)
fg(&quot;white&quot;)

resetFormat()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>(.+) wyprowadza (ciecie|pchniecie|uderzenie) (.+), lecz (.+) (zastawia sie) (.+).</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>tarcza_ja_kogos</name>
                        <script>kogo = matches[4]
czym = matches[5]
czym_zastawia = matches[6]

selectCaptureGroup(4)
fg(&quot;white&quot;)
selectCaptureGroup(5)
fg(&quot;gold&quot;)
selectCaptureGroup(6)
fg(&quot;white&quot;)

resetFormat()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>(Uderzasz|Tniesz|Pchasz|Wyprowadzasz ciecie|pchniecie|uderzenie) (.+), lecz (.+) (zastawia sie) (.+).</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>zbroja</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>zatrzymuje</string>
                        <string>wyparowany</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>0</integer>
                        <integer>0</integer>
                    </regexCodePropertyList>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>zbroja_moja</name>
                        <script>kto = matches[2]
czym = matches[4]
zbroja = matches[11]

selectCaptureGroup(2)
fg(&quot;white&quot;)
selectCaptureGroup(8)
fg(&quot;powder_blue&quot;)
selectCaptureGroup(10)
fg(&quot;green&quot;)
selectCaptureGroup(11)
fg(&quot;white&quot;)

resetFormat()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>(.+) (uderza|tnie|kluje) cie (.+) w (.+), lecz (jego|jej) (bron|cios) ((przebijajac|zesliznawszy sie) .+ |)(zatrzymuje sie) na twojej (.+).</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>zbroja_czyjas</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>(.+) (uderza|tnie|kluje) (.+) w (.+), lecz (twoj|jeg|jego) cios (zatrzymuje sie) na (jego|jej) (.+).</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>zbroja_czyjas_ani</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>(.+) trafia (.+) w (.+), lecz caly impet uderzenia (wyparowany) zostaje przez (.+).</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>zbroja_moja_ani</name>
                        <script>kto = matches[2]
czym = matches[3]
zbroja = matches[6]

selectCaptureGroup(2)
fg(&quot;white&quot;)
selectCaptureGroup(3)
fg(&quot;powder_blue&quot;)
selectCaptureGroup(5)
fg(&quot;green&quot;)
selectCaptureGroup(6)
fg(&quot;white&quot;)

resetFormat()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>(.+) trafia cie (.+) w (.+), lecz caly impet uderzenia (wyparowany) zostaje przez (.+).</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>pudlo</name>
                    <script>selectCaptureGroup(2)
fg(&quot;white&quot;)
selectString(&quot;nie udaje sie trafic&quot;, 1)
fg(&quot;PaleGreen&quot;)

resetFormat()</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#000000</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>(.+) nie udaje sie trafic</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
            </TriggerGroup>
            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>ciosy_obrazenia</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string> trafiajac w </string>
                    <string> trafiajac (go|ja|je|jego) w </string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>0</integer>
                    <integer>1</integer>
                </regexCodePropertyList>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>ciosy_hum</name>
                    <script>--display(matches)
local kto = #matches[2]
local rana_kogo_czym = matches[4]
local gdzie = matches[6]
local kogo, czym

local b, e, rana = jakaPozycjaOpisu(opisy_rany, rana_kogo_czym)
if(rana_kogo_czym:sub(e + 1, e + 4) == &quot;cie&quot;) then
	kogo = &quot;cie&quot;
	czym = kogo_czym:sub(e + 6)
else
	local kogo_czym = rana_kogo_czym:sub(e + 1)
	czym = &quot;&quot;
	local s = kogo_czym:split(&quot; &quot;)
	for i = 2, #s do
		if(s[i]:sub(-1) ~= s[1]:sub(-1)) then
			kogo = table.concat(s, &quot; &quot;, 1, i)
			czym = table.concat(s, &quot; &quot;, i + 1, #s)
			break
		end
	end
--	for i = #s - 1, 1, -1 do
--		if(s[i]:sub(-1) ~= s[#s]:sub(-1)) then
--			kogo = table.concat(s, &quot; &quot;, 1, i)
--			czym = table.concat(s, &quot; &quot;, i + 1)
--			break
--		end
--	end
end

--echo(kogo .. &quot; -&gt; &quot; .. czym .. &quot;\n&quot;)
selectString(kogo, 1)
if(kogo == &quot;cie&quot;) then
	bg(&quot;red&quot;)
else
	fg(&quot;white&quot;)
end

ipoz, max = jakiPoziomOpisu(opisy_rany, rana)
if(ipoz) then
	selectString(rana, 1)
	setFgColor(255, 255 - (ipoz * 255 / max), 200 - (ipoz * 200 / max));
end

deselect()
resetFormat()</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>(.+) (szczesliwie|ledwo|niezdarnie|z trudem|z wysilkiem|udanie|wprawnie|prosto|gladko|umiejetnie|z latwoscia|bez trudu|bez problemu|z latwoscia|dokladnie|perfekcyjnie) (.+? (cie |).+) trafiajac w (.+).$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>moje</name>
                    <script>--display(matches)
--to by sie przydalo jakos ugenerycznic...
local kto = &quot;Ja&quot;
local rana = matches[4]
local kogo_czym = matches[5]
local gdzie = matches[6]
local kogo, czym

local s = kogo_czym:split(&quot; &quot;)
for i = 2, #s do
	if(s[i]:sub(-1) ~= s[1]:sub(-1)) then
		kogo = table.concat(s, &quot; &quot;, 1, i)
		czym = table.concat(s, &quot; &quot;, i + 1, #s)
		break
	end
end

--echo(kogo .. &quot; -&gt; &quot; .. czym .. &quot;\n&quot;)
selectString(kogo, 1)
fg(&quot;white&quot;)

ipoz, max = jakiPoziomOpisu(opisy_rany, rana)
if(ipoz) then
	selectCaptureGroup(3)
	setFgColor(255, 255 - (ipoz * 255 / max), 200 - (ipoz * 200 / max));
end

deselect()
resetFormat()</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^(Szczesliwie|Ledwo|Niezdarnie|Z trudem|Z wysilkiem|Udanie|Wprawnie|Prosto|Gladko|Umiejetnie|Z latwoscia|Bez trudu|Bez problemu|Z latwoscia|Dokladnie|Perfekcyjnie) ((.+)sz) (.+) trafiajac w (.+).$</string>
                        <string>^()((Nacina|Rozcina|Tnie|Siecze|Rabie|Rznie)sz) (.+) (.+), trafiajac (go|ja|je|jego) w (.+).$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>ciosy_ani</name>
                    <script>local rana = matches[3]
ipoz, max = jakiPoziomOpisu(opisy_rany, rana)
if(ipoz) then
	selectString(rana, 1)
	setFgColor(255, 255 - (ipoz * 255 / max), 200 - (ipoz * 200 / max));
end

deselect()
resetFormat()</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>(.+) (ledwo muska|lekko rani|rani|powaznie rani|bardzo ciezko rani|potwornie rani|masakruje) (.+), trafiajac (cie|go|ja|je) w (.+).</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
            </TriggerGroup>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>opis_walki</name>
                <script>selectString(matches[1], 1)
fg(&quot;red&quot;)
resetFormat()</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>Walczy z </string>
                    <string>Walczysz z </string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>2</integer>
                    <integer>2</integer>
                </regexCodePropertyList>
            </Trigger>
            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>spece</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList/>
                <regexCodePropertyList/>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>szermierze</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>markuje cios w kierunku</string>
                        <string>probuje piruetem wyminac</string>
                        <string>wirujac w zgrabnym piruecie przepuszcza cios</string>
                        <string>perfekcyjnie wykorzystujac przewage wyszkolenia w fechtunku zwodniczo mlynkuje</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>0</integer>
                        <integer>0</integer>
                        <integer>0</integer>
                        <integer>0</integer>
                    </regexCodePropertyList>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>pudlo</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#aaffff</mFgColor>
                        <mBgColor>#000000</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>lecz on uchyla sie przed tym ciosem.</string>
                            <string>ale mu sie to nie udaje</string>
                            <string>Ostrze mija jednak cel o centymetry</string>
                            <string>uchyla sie przed tym ciosem</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                            <integer>0</integer>
                            <integer>0</integer>
                            <integer>0</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>obrazenia</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ffaa7f</mFgColor>
                        <mBgColor>#000000</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>(spora rane|przedziurawione na wylot cialo)</string>
                            <string>zauwazalna rane</string>
                            <string>zostawiajac po sobie gleboka rane</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>0</integer>
                            <integer>0</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </Trigger>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Bractwo_switu</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>ciecie</string>
                        <string>tniesz</string>
                        <string>rownowag</string>
                        <string>Spokojnie...</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>0</integer>
                        <integer>0</integer>
                        <integer>0</integer>
                        <integer>0</integer>
                    </regexCodePropertyList>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>ciecie</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>ciecie</string>
                            <string>tnie</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                            <integer>0</integer>
                        </regexCodePropertyList>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>trafienie</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>trafia</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>0</integer>
                            </regexCodePropertyList>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>zbroja</name>
                                <script></script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#aaffff</mFgColor>
                                <mBgColor>#000000</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>(.*) cieciem z (gory|dolu|boku) trafia(sz|) .* w .*, lecz (twoj|twoja|jego|jej) .* niweluje sile ciosu\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>skora</name>
                                <script></script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#aaffff</mFgColor>
                                <mBgColor>#000000</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>(.*) cieciem z (gory|dolu|boku) trafia(sz|) .* w .*, lecz nie wyrzadzasz (jemu|jej) zadnej krzywdy\.</string>
                                    <string>(.*) cieciem z (gory|dolu|boku) trafia(sz|) .* w .*, lecz (jego|jej) cios nie wyrzadza ci zadnej szkody\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="yes" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>obrazenia</name>
                                <script>--display(matches)
bs_sily = {&quot;delikatnym&quot;, &quot;lekkim&quot;, &quot;niezbyt silnym&quot;, &quot;silnym&quot;, &quot;mocnym&quot;, &quot;poteznym&quot;, &quot;niewiarygodnie poteznym&quot;}
bs_rany = {&quot;nikly slad|nieznaczny odprysk kostny|nieznaczny uszczerbek|nikla ranke&quot;,
			&quot;niewielk(i|a) (slad|odprysk kostny|uszczerbek|rane)&quot;,
			&quot;zauwazaln(y|a) (slad|odprysk kosci|uszczerbek|rane)&quot;,
			&quot;spor(y|e|a) (slad|pekniecie|uszczerbek|rane)&quot;,
			&quot;paskudn(y|e|a) (slad|polamane kosci|uszczerbek|rane)&quot;,
			&quot;glebok(i|a) (slad|dziure|rane)|mocno i gleboko polamane kosci&quot;,
			&quot;bruzde przedzielajaca niemalze na pol|gruchoczac i lamiac kosci|prawie smiertelny w skutkach brak|prawie smiertelna rane, tnac (wysuszone miesnie|miesnie i pryskajac krwia)&quot;,
			&quot;bruzde na wylot|bezksztaltna mase polamanych kosci|zmasakrowane szczatki|straszliwie zmasakrowane cialo, ktore pada na ziemie( w kaluzy wlasnej krwi|)&quot;
}

local ipoz, max, opis, sila, rana

for a = 0,#matches-1,5 do
	-- kolor i styl dla calej linii
	selectCaptureGroup(a + 1)
	fg(&quot;PaleTurquoise&quot;)--; setBold(true)
	-- dalej osobne kolorki dla sily ciosu i poziomu zadanej rany
	sila = matches[a + 3]
	rana = matches[a + 5]
	selectCaptureGroup(a + 3)
	ipoz, max = jakiPoziomOpisu(bs_sily, sila:lower())
	setFgColor(255, 255 - (ipoz * 255 / max), 200 - (ipoz * 200 / max));
	--replace(matches[a + 3] .. &quot;(&quot; .. ipoz .. &quot;)&quot;)
	selectCaptureGroup(a + 5)
	ipoz, max = jakiPoziomOpisu(bs_rany, rana:lower())
	setFgColor(255, 255 - (ipoz * 255 / max), 200 - (ipoz * 200 / max));
	--replace(matches[a + 5] .. &quot;(&quot; .. ipoz .. &quot;)&quot;)
end

deselect()
resetFormat()</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>(Kolejnym |^[&gt; ]*)([^.]+?) cieciem z (gory|boku|dolu) trafiasz .*? w .*?, pozostawiajac ([^.]+?)\.</string>
                                    <string>(Kolejnym |^[&gt; ]*)([^.]+?) cieciem z (gory|boku|dolu) .*? trafia cie w .*?, pozostawiajac ([^.]+?)\.</string>
                                    <string>(Kolejnym |^[&gt; ]*)([^.]+?) cieciem z (gory|boku|dolu) .*? trafia .*? w .*?, pozostawiajac ([^.]+?)\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>pudlo</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#aaffff</mFgColor>
                            <mBgColor>#000000</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>(.*? (wyprowadza|wykonuje)|Wyprowadzasz|Wykonujesz) ciecie .*? w (.*?), lecz ((on|ona|ono) uchyla|uchylasz) sie przed tym ciosem\.</string>
                                <string>Plynnie kontynuujac ruch[,] tnie(sz|) .* w (.*), lecz ((on|ona|ono) uchyla|uchylasz) sie przed tym ciosem\.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </Trigger>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>mlynek</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>poziomym cieciem z obrotu</string>
                            <string>Z furkotem brutalnie rozcinanego powietrza</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                            <integer>0</integer>
                        </regexCodePropertyList>
                    </TriggerGroup>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>jest_rownowaga</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#55aa00</mFgColor>
                        <mBgColor>#000000</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Czujesz, ze odzyskujesz rytm i rownowage.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>brak_rownowagi</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#aa5500</mFgColor>
                        <mBgColor>#000000</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(Jeszcze nie odzyskal(es|as|os) rownowagi\.)$</string>
                            <string>Spokojnie... walka dopiero sie zaczela, musisz chwilke poczekac aby poznac swojego przeciwnika.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>0</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
            </TriggerGroup>
        </TriggerGroup>
        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
            <name>Druzyna</name>
            <script></script>
            <triggerType>0</triggerType>
            <conditonLineDelta>0</conditonLineDelta>
            <mStayOpen>0</mStayOpen>
            <mCommand></mCommand>
            <packageName></packageName>
            <mFgColor>#ff0000</mFgColor>
            <mBgColor>#ffff00</mBgColor>
            <mSoundFile></mSoundFile>
            <colorTriggerFgColor>#000000</colorTriggerFgColor>
            <colorTriggerBgColor>#000000</colorTriggerBgColor>
            <regexCodeList>
                <string>druzynie</string>
                <string>Druzyne</string>
                <string>druzyny</string>
                <string>druzyne</string>
                <string>przedstawia sie</string>
            </regexCodeList>
            <regexCodePropertyList>
                <integer>0</integer>
                <integer>2</integer>
                <integer>0</integer>
                <integer>0</integer>
                <integer>0</integer>
            </regexCodePropertyList>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>zaprasza</name>
                <script>selectCurrentLine()
fg(&quot;white&quot;)
selectCaptureGroup(2)
fg(&quot;light_blue&quot;)
selectCaptureGroup(3)
fg(&quot;light_blue&quot;)

resetFormat()</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>(.+) zaprasza (.+) do swojej druzyny\.$</string>
                    <string>^()Zapraszasz (.+) do druzyny\.$</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>dolacza</name>
                <script>local kto = matches[2]
local do_kogo = matches[3]

selectCurrentLine()
fg(&quot;white&quot;)

selectCaptureGroup(2)
fg(&quot;light_blue&quot;)

selectCaptureGroup(3)
fg(&quot;light_blue&quot;)

resetFormat()</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>(.+) dolacza do druzyny (.+)\.$</string>
                    <string>(.+) dolacza do (twojej) druzyny\.$</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>ja dolaczam</name>
                <script>local kto = &quot;Ja&quot;
local do_kogo = matches[2]

selectCurrentLine()
fg(&quot;white&quot;)

selectCaptureGroup(2)
fg(&quot;light_blue&quot;)

resetFormat()</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^Dolaczasz do druzyny (.+)\.$</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>porzucanie</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>Porzucasz swoja druzyne.</string>
                    <string>(.+) porzuca twoja druzyne\.$</string>
                    <string>(.+) porzuca druzyne (.+)\.$</string>
                    <string>Porzucasz druzyne, ktorej przewodziles.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>2</integer>
                    <integer>1</integer>
                    <integer>1</integer>
                    <integer>2</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>brak_druzyny</name>
                <script>removeTeam()</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#55aa00</mFgColor>
                <mBgColor>#000000</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>Nie jestes aktualnie w zadnej druzynie.</string>
                    <string>Nie jestes czlonkiem zadnej druzyny.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>2</integer>
                    <integer>2</integer>
                </regexCodePropertyList>
            </Trigger>
            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>opis_druzyny</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>Przewodzisz druzynie, </string>
                    <string>Druzyne prowadzi</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>2</integer>
                    <integer>2</integer>
                </regexCodePropertyList>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>dowodca</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#00aa00</mFgColor>
                    <mBgColor>#000000</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Przewodzisz druzynie, </string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                    </regexCodePropertyList>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="yes" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>opis_szereg_wspolne_i_dalsze</name>
                        <script>--display(matches)
local ile = #matches / 6

for i = 0, ile - 1 do
	local szereg = szeregi[matches[3 + 6 * i]]
	local czy_ja = #matches[4 + 6 * i] &gt; 0
	local kto = matches[6 + 6 * i]:gsub(&quot;, &quot;, &quot;|&quot;):gsub(&quot; i &quot;, &quot;|&quot;):split(&quot;|&quot;)
	if(czy_ja) then table.insert(kto, &quot;Ja&quot;) end

	selectCaptureGroup(3 + 6 * i)
	fg(&quot;white&quot;)
	selectCaptureGroup(6 + 6 * i)
	fg(&quot;light_blue&quot;)
	resetFormat()

	--echo(&quot;Szereg: &quot; .. szereg .. &quot;: &quot; .. table.concat(kto, &quot;, &quot;) .. &quot;\n&quot;)
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>(W|w ktorej w) (.+?) szeregu(, oprocz ciebie,|) (stoi|stoja) (.+?)\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>opis_szereg_samotnie</name>
                        <script>local szereg = szeregi[matches[3]]
local kto = {&quot;Ja&quot;}

selectCaptureGroup(2)
fg(&quot;light_blue&quot;)
selectCaptureGroup(3)
fg(&quot;white&quot;)

resetFormat()

--echo(&quot;Szereg: &quot; .. szereg .. &quot;: &quot; .. table.concat(kto, &quot;, &quot;) .. &quot;\n&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>stojac (samotnie) w (.+?) szeregu\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>czlonek</name>
                    <script>--display(matches)
prowadzacy = matches[2]
local kto = matches[6]
local szereg = szeregi[matches[7]]

selectCaptureGroup(2)
fg(&quot;white&quot;)
selectCaptureGroup(7)
fg(&quot;white&quot;)
selectCaptureGroup(6)
fg(&quot;light_blue&quot;)

resetFormat()

--echo(&quot;\nSzereg: &quot; .. szereg .. &quot;: &quot; .. table.concat(kto, &quot;, &quot;) .. &quot;\n&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Druzyne prowadzi (.+?) stojac(y|a|e) (samotnie()|razem z (.+?)) w (.+?) szeregu\.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="yes" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>moj_szereg</name>
                        <script>--display(matches)

local szereg = szeregi[matches[7]]
local sam_stoje = #matches[6] &gt; 0
local kto = sam_stoje and matches[6] or matches[4]

--echo(&quot;\nSzereg: &quot; .. szereg .. &quot;: &quot; .. table.concat(kto, &quot;, &quot;) .. &quot;\n&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Stoisz(, razem (z|ze) (.+?),| ()(samotnie)) w (.+?) szeregu\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>szereg_nie_moj</name>
                        <script>local szereg = szeregi[matches[2]]
local kto = matches[4]

local kto = kto:gsub(&quot;, &quot;, &quot;|&quot;):gsub(&quot; i &quot;, &quot;|&quot;):split(&quot;|&quot;)

--echo(&quot;\nSzereg: &quot; .. szereg .. &quot;: &quot; .. table.concat(kto, &quot;, &quot;) .. &quot;\n&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>W (.+?) szeregu sto(i|ja) (.+?)\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
            </TriggerGroup>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>przejscia</name>
                <script>selectCurrentLine()
fg(&quot;white&quot;)

selectCaptureGroup(2)
fg(&quot;light_blue&quot;)

selectCaptureGroup(3)
fg(&quot;light_blue&quot;)

selectCaptureGroup(4)
fg(&quot;light_blue&quot;)</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>(.+) przechodzi do (.+) szeregu druzyny, chowajac sie za (.+)\.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>rozwiazuje</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>(.+) rozwiazuje druzyne.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>przedstawia</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>1</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>(.+) przedstawia sie jako:</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
        </TriggerGroup>
        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
            <name>magia</name>
            <script>
</script>
            <triggerType>0</triggerType>
            <conditonLineDelta>0</conditonLineDelta>
            <mStayOpen>0</mStayOpen>
            <mCommand></mCommand>
            <packageName></packageName>
            <mFgColor>#ff0000</mFgColor>
            <mBgColor>#ffff00</mBgColor>
            <mSoundFile></mSoundFile>
            <colorTriggerFgColor>#000000</colorTriggerFgColor>
            <colorTriggerBgColor>#000000</colorTriggerBgColor>
            <regexCodeList>
                <string>koncentr</string>
                <string>zaklec</string>
                <string>czar</string>
            </regexCodeList>
            <regexCodePropertyList>
                <integer>0</integer>
                <integer>0</integer>
                <integer>0</integer>
            </regexCodePropertyList>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>koncentracja</name>
                <script>selectCurrentLine()
fg(&quot;white&quot;)

deselect()
resetFormat()</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>(.+) zaczyna miarowo oddychac, czujesz bijaca od (niego|niej) fale spokoju i gromadzacej sie mocy.$</string>
                    <string>Oddalasz sie myslami, pograzajac umysl w glebokiej koncentracji.</string>
                    <string>^Miarowo oddychasz, a fala spokoju zalewa twe mysli. Czujesz narastajaca w sobie moc, twoj umysl jest wyciszony a ty jestes w pelni skoncentrowan(y|a|e). Nic nie rozprasza juz twej uwagi.$</string>
                    <string>(.+) odcina swoj umysl od wszelkich bodzcow i pograza sie w glebokiej modlitwie.$</string>
                    <string>koncentruje sie i zaczyna powtarzac jakas cicha mantre.</string>
                    <string>(.+) koncentruje swoje moce\.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                    <integer>0</integer>
                    <integer>1</integer>
                    <integer>1</integer>
                    <integer>0</integer>
                    <integer>1</integer>
                </regexCodePropertyList>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>oddychasz</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#55aaff</mFgColor>
                    <mBgColor>#000000</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Nic nie rozprasza juz twej uwagi.</string>
                        <string>Osiagasz stan naboznego skupienia niezbedny do odprawienia modlitwy.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>0</integer>
                        <integer>0</integer>
                    </regexCodePropertyList>
                </Trigger>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>brak_koncentracji</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ffa200</mFgColor>
                <mBgColor>#000000</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^Nie jestes skoncentrowan(y|a|e).</string>
                    <string>Nie udaje ci sie skoncentrowac nad zakleciem.</string>
                    <string>Nie udaje ci sie dostatecznie skoncentrowac.$</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                    <integer>0</integer>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>wyciszony</name>
                <script>selectCurrentLine()
fg(&quot;forest_green&quot;)
resetFormat()</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>Wyciszasz umysl. Mozesz sie ponownie skoncentrowac.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>0</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>cooldown</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ffa200</mFgColor>
                <mBgColor>#000000</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>Ochlon, zanim ponownie sie skoncentrujesz.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>0</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>porazka_czarowania</name>
                <script>selectCurrentLine()
fg(&quot;maroon&quot;)
resetFormat()</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>Probujesz opanowac zaklecie, ale masz zbyt male umiejetnosci, by temu sprostac.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>0</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>mozliwy_ponownie</name>
                <script>selectCurrentLine()
fg(&quot;olive_drab&quot;)
selectCaptureGroup(2)
fg(&quot;white&quot;)
resetFormat()</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>Mozesz sie ponownie skoncentrowac nad zakleciem (.+).</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>dekoncentracja</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ffa200</mFgColor>
                <mBgColor>#000000</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>(.+) dekoncentruje sie.$</string>
                    <string>Dekoncentrujesz sie.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                    <integer>3</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>poczatek_czarowania</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#55aaff</mFgColor>
                <mBgColor>#000000</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>Bierzesz gleboki oddech, probujac skoncentrowac sie i wyciszyc swoj umysl.</string>
                    <string>unosi do gory rece i koncentruje sie nad modlitwa.</string>
                    <string>Unosisz do gory rece i koncentrujesz sie nad modlitwa.</string>
                    <string>bierze gleboki oddech, probujac skoncentrowac sie i wyciszyc swoj umysl.</string>
                    <string>inkantuje slowa zaklecia.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>0</integer>
                    <integer>0</integer>
                    <integer>0</integer>
                    <integer>0</integer>
                    <integer>0</integer>
                </regexCodePropertyList>
            </Trigger>
        </TriggerGroup>
        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
            <name>Skrzynie</name>
            <script>selectString(matches[1], 1);
fg(&quot;dodger_blue&quot;);
resetFormat();</script>
            <triggerType>0</triggerType>
            <conditonLineDelta>0</conditonLineDelta>
            <mStayOpen>0</mStayOpen>
            <mCommand></mCommand>
            <packageName></packageName>
            <mFgColor>#ffffff</mFgColor>
            <mBgColor>#000000</mBgColor>
            <mSoundFile></mSoundFile>
            <colorTriggerFgColor>#000000</colorTriggerFgColor>
            <colorTriggerBgColor>#000000</colorTriggerBgColor>
            <regexCodeList>
                <string>^(.+) zawiera(ja|) nastepujace (bronie|zbroje|jedzenie|przedmioty|ziola|pojemniki|mikstury|kosztownosci): </string>
                <string>^(Ponadto|Dodatkowo w srodku|Oprocz tego wewnatrz|We wnetrzu) (zauwazasz|dostrzegasz|widzisz|spostrzegasz tez) (bronie|zbroje|jedzenie|przedmioty|ziola|pojemniki|mikstury|kosztownosci): </string>
                <string>^(Dodatkowo polozone|Ponadto na (nim|niej)|Oprocz tego na wierzchu) (zauwazasz|dostrzegasz|widzisz|spostrzegasz) (bronie|zbroje|jedzenie|przedmioty|ziola|pojemniki|mikstury|kosztownosci): </string>
                <string>^Na (.+) leza nastepujace (bronie|zbroje|jedzenie|przedmioty|ziola|pojemniki|mikstury|kosztownosci): </string>
                <string>^We wnetrzu spostrzegasz (bronie|zbroje|jedzenie|przedmioty|ziola|pojemniki|mikstury|kosztownosci): </string>
            </regexCodeList>
            <regexCodePropertyList>
                <integer>1</integer>
                <integer>1</integer>
                <integer>1</integer>
                <integer>1</integer>
                <integer>1</integer>
            </regexCodePropertyList>
        </TriggerGroup>
        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
            <name>ekwipunek</name>
            <script>selectString(matches[1], 1);
fg(&quot;dodger_blue&quot;);
resetFormat();</script>
            <triggerType>0</triggerType>
            <conditonLineDelta>0</conditonLineDelta>
            <mStayOpen>0</mStayOpen>
            <mCommand></mCommand>
            <packageName></packageName>
            <mFgColor>#ff0000</mFgColor>
            <mBgColor>#ffff00</mBgColor>
            <mSoundFile></mSoundFile>
            <colorTriggerFgColor>#000000</colorTriggerFgColor>
            <colorTriggerBgColor>#000000</colorTriggerBgColor>
            <regexCodeList>
                <string>Masz na sobie</string>
                <string>Masz przy sobie</string>
                <string>^Trzyma(sz|) (.+) w (lewej|prawej) rece.</string>
                <string>^Trzyma(sz|) oburacz</string>
            </regexCodeList>
            <regexCodePropertyList>
                <integer>2</integer>
                <integer>2</integer>
                <integer>1</integer>
                <integer>1</integer>
            </regexCodePropertyList>
        </TriggerGroup>
    </TriggerPackage>
    <TimerPackage>
        <Timer isActive="yes" isFolder="no" isTempTimer="no" isOffsetTimer="no">
            <name>AntiIIdle</name>
            <script>if(getIdleTime() &gt; 600) then
	send(&quot;!&quot;, false)
end
</script>
            <command></command>
            <packageName></packageName>
            <time>00:20:00.000</time>
        </Timer>
    </TimerPackage>
    <AliasPackage>
        <AliasGroup isActive="yes" isFolder="yes">
            <name>aliasy</name>
            <script></script>
            <command></command>
            <packageName></packageName>
            <regex></regex>
            <Alias isActive="yes" isFolder="no">
                <name>eval</name>
                <script>local f, e = loadstring(matches[2]);
if(f ~= nil) then
	local a, b, c = f();
	if a ~= nil then echo (&quot;A:  &quot;); display(a, nil, 1); end
	if b ~= nil then echo (&quot;B:  &quot;); display(b, nil, 1); end
	if c ~= nil then echo (&quot;C:  &quot;); display(c, nil, 1); end
end
if e ~= nil then echo (&quot;Er: &quot;); display(e, nil, 1); end
</script>
                <command></command>
                <packageName></packageName>
                <regex>^/eval (.*)</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>version</name>
                <script>echo(&quot;Skrypty wersja &quot; .. scriptsVersion .. &quot;\n&quot;)</script>
                <command></command>
                <packageName></packageName>
                <regex>^/version$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>paste</name>
                <script>tempTimer(0, [[ start_paste(&quot;]] .. matches[2] .. [[&quot;) ]])</script>
                <command></command>
                <packageName></packageName>
                <regex>^/paste (.+)</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>quit</name>
                <script>os.exit()</script>
                <command></command>
                <packageName></packageName>
                <regex>^/quit$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>help</name>
                <script>displayHelp()</script>
                <command></command>
                <packageName></packageName>
                <regex>^/(help|pomoc)$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>zabici</name>
                <script>--display(zabici)
if(table.size(zabici) == 0) then
	echo(&quot;Dzis nikt jeszcze nikogo nie zabil. Przynajmniej niczego takiego nie widzielismy.\n&quot;)
	return
end
for i, z in pairs(zabici) do
	local suma = 0
	echo(&quot;** &quot; .. i .. &quot;:\n&quot;)
	for ip, ii in pairs(z) do
		echo(string.format(&quot; %20s: %3d\n&quot;, ip, ii))
		suma = suma + ii
	end
	echo(&quot;- Razem: &quot; .. suma .. &quot;\n&quot;)
end</script>
                <command></command>
                <packageName></packageName>
                <regex>^/zabici$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>debug</name>
                <script>local temat = matches[3] or &quot;lista&quot;

if(temat == &quot;lista&quot;) then
	echo(&quot;/debug (stats|...)\n&quot;)
	return
end

if(temat == &quot;stats&quot;) then
	for k, w in pairs(containerDruzyna.windowList) do
		echo(&quot;Row: &quot; .. w.name .. &quot;\n&quot;)
		for kk, ww in pairs(w.windowList) do
			echo(&quot;    Stats: &quot; .. ww.name .. &quot; id: &quot; .. ww.id .. &quot; imie: &quot; .. ww.imie .. &quot;\n&quot;)
		end
	end
	return
end</script>
                <command></command>
                <packageName></packageName>
                <regex>^/debug($| (.*))</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>del_enemy</name>
                <script>hideEnemyStatsFor(matches[2])</script>
                <command></command>
                <packageName></packageName>
                <regex>^/del_enemy (.+)</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>akcja</name>
                <script>local args = matches[3]
local co, cmd

if(args == nil) then
	echo(&quot;    Uzycie: /akcja (przeciwnik|druzyna|inni) (komenda, w miejsce % podstawiany jest cel)\n&quot;)
	return
end

local as = args:split(&quot; &quot;)
co = as[1]

if(akcja[co] == nil) then
	echo(&quot;    Nieprawidlowa wartosc. Dopuszczalne: &quot;)
	for k, v in pairs(akcja) do echo(k .. &quot; &quot;) end
	echo(&quot;\n&quot;)
	return
end

cmd = args:sub(#co + 2)
if(cmd:find(&quot;%%&quot;) == nil) then
	cmd = cmd .. &quot; %&quot;
end

if(cmd == nil or #cmd == 0) then
	echo(&quot;    Aktualna akcja dla &quot; .. co .. &quot; to: &quot; .. (akcja[co] or &quot;brak&quot;) .. &quot;\n&quot;)
	return
end
if(cmd == &quot;-&quot;) then
	akcja[co] = &quot;&quot;
	echo(&quot;    Akcja dla &quot; .. co .. &quot; usunieta.\n&quot;)
else
	akcja[co] = cmd
	echo(&quot;    Akcja dla &quot; .. co .. &quot; ustawiona na: &quot; .. cmd .. &quot;\n&quot;)
end
remember(&quot;akcja&quot;)</script>
                <command></command>
                <packageName></packageName>
                <regex>^/akcja( (.+)|$)</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>kolory</name>
                <script>showColors()</script>
                <command></command>
                <packageName></packageName>
                <regex>^/kolory$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>statsfix</name>
                <script>cleanupStatLeftovers()</script>
                <command></command>
                <packageName></packageName>
                <regex>^/statsfix$</regex>
            </Alias>
        </AliasGroup>
        <AliasGroup isActive="yes" isFolder="yes">
            <name>Wyjscia</name>
            <script></script>
            <command></command>
            <packageName></packageName>
            <regex></regex>
            <Alias isActive="yes" isFolder="no">
                <name>roomInfo</name>
                <script>--/roomInfo
echo(&quot;Obszar: &quot; .. getRoomAreaName(currentRoom.areaId) .. &quot;(&quot; .. currentRoom.areaId .. &quot;), lokacji: &quot; .. table.size(getAreaRooms(currentRoom.areaId)) .. &quot;\n&quot;)
echo(&quot;Nazwa lokacji: &quot; .. getRoomName(currentRoom.id) .. &quot;(&quot; .. currentRoom.id .. &quot;)\n&quot;)
local x,y,z = getRoomCoordinates(currentRoom.id)
echo(&quot;Wspolrzedne: &quot; .. x .. &quot;, &quot; .. y .. &quot;, &quot; .. z .. &quot;\n&quot;)
echo(&quot;Rodzaj lokacji: &quot; .. env[getRoomEnv(currentRoom.id) - ENV_START_NUM].type .. &quot;\n&quot;)
local serv = getRoomUserData(currentRoom.id, &quot;service&quot;)
if(serv ~= nil) then
   serv = yajl.to_value(serv)
   if(serv.type ~= nil) then
		echo(&quot;Usluga na lokacji: &quot; .. serv.type .. &quot;\n&quot;)
	end
end</script>
                <command></command>
                <packageName></packageName>
                <regex>^/roomInfo$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>clearArea</name>
                <script>local areaID = getRoomArea(currentRoom.id)
echo(&quot;Usuwam aktualny obszar: &quot; .. getRoomAreaName(areaID) .. &quot; (id &quot; .. areaID .. &quot;)\n&quot;)
deleteArea(areaID)

makeMapRoom(currentRoom.room)
</script>
                <command></command>
                <packageName></packageName>
                <regex>^/clearArea$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>clearMap</name>
                <script>clearMap()</script>
                <command></command>
                <packageName></packageName>
                <regex>^/clearMap$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>areas</name>
                <script>-- /areas
local areas = getAreaTableSwap()
for id, area in pairs(areas) do
	local arealoc = getAreaRooms(id) 
	echo(&quot;Area: &quot; .. area .. &quot;, id: &quot; .. id .. &quot;, lokacji: &quot; .. table.size(arealoc) .. &quot; - &quot;)
	echoLink(&quot;[usun obszar]&quot;, &quot;deleteArea(&quot; .. id .. &quot;)&quot;, &quot;Usuwa caly obszar &quot; .. area .. &quot; z mapy&quot;)
   echo(&quot;\n&quot;)
end

</script>
                <command></command>
                <packageName></packageName>
                <regex>^/areas$</regex>
            </Alias>
            <AliasGroup isActive="yes" isFolder="yes">
                <name>drzwi</name>
                <script></script>
                <command></command>
                <packageName></packageName>
                <regex></regex>
                <Alias isActive="yes" isFolder="no">
                    <name>addDoor</name>
                    <script>--Wyjscia::drzwi::addDoor
setDoor(currentRoom.id, matches[2], matches[3])</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^/drzwi ([a-z]+) (0|1|2|3)</regex>
                </Alias>
            </AliasGroup>
        </AliasGroup>
    </AliasPackage>
    <ActionPackage>
        <ActionGroup isActive="no" isFolder="yes" isPushButton="no" isFlatButton="yes" useCustomLayout="no">
            <name>new toolbar</name>
            <packageName></packageName>
            <script></script>
            <css></css>
            <commandButtonUp></commandButtonUp>
            <commandButtonDown></commandButtonDown>
            <icon></icon>
            <orientation>0</orientation>
            <location>0</location>
            <posX>0</posX>
            <posY>0</posY>
            <mButtonState>1</mButtonState>
            <sizeX>7274605</sizeX>
            <sizeY>7929975</sizeY>
            <buttonColumn>4</buttonColumn>
            <buttonRotation>0</buttonRotation>
            <buttonColor>#ffffff</buttonColor>
            <Action isActive="yes" isFolder="no" isPushButton="no" isFlatButton="yes" useCustomLayout="no">
                <name>new button</name>
                <packageName></packageName>
                <script>echo(&quot;Test from script!\n&quot;)</script>
                <css>background-color: green;
</css>
                <commandButtonUp></commandButtonUp>
                <commandButtonDown>powiedz say from MUD</commandButtonDown>
                <icon></icon>
                <orientation>1</orientation>
                <location>0</location>
                <posX>0</posX>
                <posY>0</posY>
                <mButtonState>1</mButtonState>
                <sizeX>-1</sizeX>
                <sizeY>7602180</sizeY>
                <buttonColumn>1</buttonColumn>
                <buttonRotation>0</buttonRotation>
                <buttonColor>#ffffff</buttonColor>
            </Action>
        </ActionGroup>
    </ActionPackage>
    <ScriptPackage>
        <ScriptGroup isActive="yes" isFolder="yes">
            <name>Okienka</name>
            <packageName></packageName>
            <script>--Okienka
-- globalne obiekty
--containerLeft, containerRight, containerTop, containerBottom = nil
--minimap, minimapExits = nil
--mapper = nil

debug = false

function debugmsg(msg)
	if(debug == true) then
		cecho(&quot;  &lt;yellow:dim_grey&gt;--&lt;yellow:black&gt;&quot; .. msg .. &quot;\n&quot;)
	end
end</script>
            <eventHandlerList/>
            <Script isActive="yes" isFolder="no">
                <name>GeyserExt</name>
                <packageName></packageName>
                <script>--Okienka::GeyserExt::LayoutBox
Geyser.LayoutBox = Geyser.Container:new({
      name = &quot;LayoutBoxClass&quot;
   })

function get_rel_x(cont)
	if(cont.container == nil) then
		return cont:get_x()
	end
	return cont:get_x() - cont.container:get_x()
end

function get_rel_y(cont)
	if(cont.container == nil) then
		return cont:get_y()
	end
	return cont:get_y() - cont.container:get_y()
end


function Geyser.LayoutBox:add (window, cons)
   Geyser.add(self, window, cons)
   if not self.defer_updates then
      self:reposition()
   end
end

--- Responsible for placing/moving/resizing this window to the correct place/size.
-- Called on window resize events.
function Geyser.LayoutBox:reposition()
   self.parent:reposition()
	if(self.align == &quot;LEFT&quot;) then
		self:reposition_left()
	elseif(self.align == &quot;BOTTOM&quot;) then
		self:reposition_bottom()
	elseif(self.align == &quot;RIGHT&quot;) then
		self:reposition_right()
	else
		echo(&quot;NO ALIGN PROVIDED FOR LayoutBox!\n&quot;)
	end
end

function Geyser.LayoutBox:reposition_bottom()
   local window_height = self:get_height()
   local start_y = window_height
   for _, window_name in ipairs(self.windows) do
      local window = self.windowList[window_name]
      local width = window.width
      local height = window.height
      if window.h_policy == Geyser.Dynamic then
         width = self:get_width()
      end
      if window.v_policy == Geyser.Dynamic then
         height = window_height * window.v_stretch_factor
      end
      window:resize(width, height)
		start_y = start_y - window:get_height()
		window:move(0, math.max(0, start_y))
		--echo(self.name .. &quot;: window &quot; .. window.name .. &quot; position BOTTOM completed. End_y: &quot; .. start_y .. &quot;\n&quot;)
   end
end

function Geyser.LayoutBox:reposition_top()
   local window_height = self:get_height()
   local start_y = 0
   for _, window_name in ipairs(self.windows) do
      local window = self.windowList[window_name]
      local width = window.width
      local height = window.height
      if window.h_policy == Geyser.Dynamic then
         width = self:get_width()
      end
      if window.v_policy == Geyser.Dynamic then
         height = window_height * window.v_stretch_factor
      end
      window:resize(width, height)
		window:move(0, math.max(0, start_y))
		start_y = start_y + window:get_height()
		--echo(self.name .. &quot;: window &quot; .. window.name .. &quot; position TOP completed. End_y: &quot; .. start_y .. &quot;\n&quot;)
   end
end

function Geyser.LayoutBox:reposition_left()
   local window_width = self:get_width()
   local start_x = window_width
   for _, window_name in ipairs(self.windows) do
      local window = self.windowList[window_name]
      local width = window.width
      local height = window.height
      if window.h_policy == Geyser.Dynamic then
         width = self:get_width()
      end
      if window.v_policy == Geyser.Dynamic then
         height = window_height * window.v_stretch_factor
      end
      window:resize(width, height)
		start_x = start_x - window:get_width()
		window:move(math.max(0, start_x), 0)
		--echo(self.name .. &quot;: window &quot; .. window.name .. &quot; position LEFT completed. End_x: &quot; .. start_x .. &quot;\n&quot;)
   end
end

function Geyser.LayoutBox:reposition_right()
   local window_width = self:get_width()
   local start_x = 0
   for _, window_name in ipairs(self.windows) do
      local window = self.windowList[window_name]
      local width = window.width
      local height = window.height
      if window.h_policy == Geyser.Dynamic then
         width = self:get_width()
      end
      if window.v_policy == Geyser.Dynamic then
         height = window_height * window.v_stretch_factor
      end
      window:resize(width, height)
		window:move(math.max(0, start_x), 0)
		start_x = start_x + window:get_width()
		--echo(self.name .. &quot;: window &quot; .. window.name .. &quot; position RIGHT completed. End_x: &quot; .. start_x .. &quot;\n&quot;)
   end
end

Geyser.LayoutBox.parent = Geyser.Container

function Geyser.LayoutBox:new(cons, container)
   -- Initiate and set Window specific things
   cons = cons or {}
   cons.type = cons.type or &quot;LayoutBox&quot;
   
   -- Call parent's constructor
   local me = self.parent:new(cons, container)
   setmetatable(me, self)
   self.__index = self
   return me
end</script>
                <eventHandlerList/>
            </Script>
            <Script isActive="yes" isFolder="no">
                <name>utils</name>
                <packageName></packageName>
                <script>-- Okienka::utils
-- cala obsluga okienek, robienia i usuwania elementow etc

elementsPool = elementsPool or {}

function addElementToPool(element, kind)
	local key = kind or element.kind or element.type
	local ep = elementsPool[key] or {}
	debugmsg(&quot;* Returning &quot; .. key .. &quot; to pool.&quot;)
	table.insert(ep, element)
	elementsPool[key] = ep
end

-- pobiera element z puli istniejacych... lub go tworzy na bierzaco.
-- type: Geyserowy typ jaki nalezy tutaj utworzyc
-- ctorfp: funkcja wskazujaca na konstruktor ktory ma utworzyc nam element
-- args: tablica arguemntow dla ctorfp
function getElementFromPool(kind, ctorfp, args, parent)
	local ep = elementsPool[kind] or {}
	if table.size(ep) &gt; 0 then
		debugmsg(&quot;* Returning &quot;..kind..&quot; from pool&quot;)
		local ret = table.remove(ep, 1)
		elementsPool[kind] = ep
		if (parent ~= nil) then parent:add(ret) end
		return ret
	else
		debugmsg(&quot;* Creating new &quot; .. kind .. &quot;, &quot; .. (args.name or &quot;(no name)&quot;))
		local ret = nil
		if(ctorfp[1] ~= nil) then
			ret = ctorfp[2](ctorfp[1], args, parent)
		else
			ret = ctorfp[2](args, parent)
		end
		ret.kind = args.kind or kind -- upewnijmy sie ze dobrze sie ustawil rodzaj
		return ret
	end
end

function removeElement(element, recursive)
	if (element == nil) then return end
	if recursive then
		for i, w in pairs(element.windowList) do
			removeElement(w, recursive)
		end
	end
	debugmsg(&quot;* Removing element &quot; .. element.name)
	addElementToPool(element)
	element:hide()
	element.container:remove(element)
	element.container = nil
end

function tableMerge(a, b)
   for k, v in pairs(b) do
		if(type(k) == &quot;number&quot;) then
			table.insert(a, v)
		else
			a[k] = v
		end
	end
   return a
end

function findElementsByAttribute(attr_name, attr_value, container)
	local ret = {}
	for i, v in pairs(container.windowList) do
		if(v[attr_name] ~= nil and tostring(v[attr_name]) == tostring(attr_value)) then table.insert(ret, v) end
		local sub = findElementsByAttribute(attr_name, attr_value, v)
		if(sub ~= nil) then ret = tableMerge(ret, sub) end
	end
	return ret
end

function findElementById(id, container)
	for i, v in pairs(container.windowList) do
		if(v.id ~= nil and tostring(v.id) == tostring(id)) then return v end
		local sub = findElementById(id, v)
		if(sub ~= nil) then return sub end
	end
	--display(&quot;Nothing with id &quot; .. id .. &quot; found in &quot; .. container.name)
	return nil
end

function createNewLabel(args, parent)
	local ctor = {Geyser.Label, Geyser.Label.new}
	return getElementFromPool(&quot;label&quot;, ctor, args, parent)
end

function createNewLayout(args, parent)
	local ctor = {Geyser.LayoutBox, Geyser.LayoutBox.new}
	return getElementFromPool(&quot;layout_container&quot;, ctor, args, parent)
end

--- testy
function testuj_ou()
	local ctor = {Geyser.Label, Geyser.Label.new} -- &lt;self&gt;, function
	local v = getElementFromPool(&quot;test_label&quot;, ctor, {name = &quot;test label 1&quot;, x = 100, y = 100, height = 20, thickness = 20, bgColor = &quot;red&quot;, type = &quot;test_label&quot;}, nil)
	display(v.name)
	removeElement(v)
	display(v.container == nil)
end
--------------------------------------------------------------------------------------------------------------------------------------
--Tworzy ramke dla kontenera
function createBox(parent, name, thickness, color)
	local borders = {nil, nil, nil, nil}
	borders[1] = createNewLabel({name=name..&quot;b1&quot;, x = 0, y = 0, width = &quot;100%&quot;, height = thickness, bgColor = color}, parent)
	borders[2] = createNewLabel({name=name..&quot;b2&quot;, x = 0, y = &quot;100%&quot;, width = &quot;100%&quot;, height = thickness,	bgColor = color}, parent)
	borders[3] = createNewLabel({name=name..&quot;b3&quot;, x = 0, y = 0, width = thickness, height = &quot;100%&quot;,	bgColor = color}, parent)
	borders[4] = createNewLabel({name=name..&quot;b4&quot;, x = &quot;100%&quot;, y = 0, width = thickness, height = &quot;100%&quot;,	bgColor = color}, parent)
	return borders
end</script>
                <eventHandlerList/>
            </Script>
            <ScriptGroup isActive="yes" isFolder="yes">
                <name>stats_grp</name>
                <packageName></packageName>
                <script>-- stats_grp</script>
                <eventHandlerList/>
                <Script isActive="yes" isFolder="no">
                    <name>stats</name>
                    <packageName></packageName>
                    <script>-- stats

paski_ja = {
	{&quot;kondycja&quot;, &quot;rgb(0, 180, 0, 255)&quot;, &quot;rgb(100, 5, 0, 200)&quot;},
	{&quot;mana&quot;, &quot;rgb(60, 0, 180, 255)&quot;, &quot;rgb(150, 0, 100, 200)&quot;},
	{&quot;zmeczenie&quot;, &quot;rgb(180, 100, 0, 255)&quot;, &quot;rgb(60, 30, 0, 200)&quot;}
}
paski_inni = {
	{&quot;kondycja&quot;, &quot;rgb(0, 180, 0, 255)&quot;, &quot;rgb(100, 5, 0, 200)&quot;},
}
seq_num = seq_num or 0
akcja = akcja or {przeciwnik = &quot;narozkaz najemnikowi zabij %&quot;, druzyna = &quot;&quot;, inni = &quot;&quot;, ja = &quot;&quot;}

-- helpers...
function get_seq_num()
	seq_num = seq_num + 1
	return seq_num
end

-- creators...
function createStatsLayout()
	containerStats = containerStats or Geyser.Container:new({
		name=&quot;stats&quot;, x = &quot;-31%&quot;, y = mapper.get_y() + mapper.get_height(),
		width=&quot;30%&quot;, height=containerBottom.get_y() - (mapper.get_y() + mapper.get_height()) - 10,
	})
	containerDruzyna = containerDruzyna or createNewLayout({
		align = &quot;BOTTOM&quot;,
		name=&quot;druzyna&quot;, x = &quot;0px&quot;, y = &quot;0px&quot;,
		width=&quot;100%&quot;, height=&quot;100%&quot;,
		v_policy=Geyser.Fixed, h_policy=Geyser.Fixed,
	}, containerStats)
end

function getStylesheetForStat(args)
	if(args.is_own) then
		return [[background: rgb(0, 0, 60, 255);]]
	elseif(args.is_enemy) then
		return [[background: rgb(60, 0, 0, 255);]]
	elseif(args.is_leader) then
		return [[background: rgb(60, 60, 0, 255);]]
	else
		return [[background: rgb(20, 20, 60, 255);]]
	end
end

buttons_enemy = {
	{name = &quot;hide_me&quot;, message = &quot;x&quot;, callback = &quot;hideEnemyStatsFor&quot;, args = {}},
	{name = &quot;compare_me&quot;, message = &quot;P&quot;, callback = &quot;commandEnemyById&quot;, args = {&quot;porownaj sie z&quot;}},
	{name = &quot;kill_me&quot;, message = &quot;Z&quot;, callback = &quot;commandEnemyById&quot;, args = {&quot;zabij&quot;}},
	{name = &quot;point_me&quot;, message = &quot;W&quot;, callback = &quot;commandEnemyById&quot;, args = {&quot;wskaz&quot;}},
	{name = &quot;script_me&quot;, message = &quot;S&quot;, callback = &quot;callScriptById&quot;, args = {&quot;przeciwnik&quot;}},
}
buttons_druzyna = {
	{name = &quot;leave_me&quot;, message = &quot;X&quot;, callback = &quot;commandEnemyById&quot;, args = {&quot;porzuc&quot;}},
	{name = &quot;assist_me&quot;, message = &quot;A&quot;, callback = &quot;commandEnemyById&quot;, args = {&quot;wesprzyj&quot;}},
	{name = &quot;point_me&quot;, message = &quot;W&quot;, callback = &quot;commandEnemyById&quot;, args = {&quot;wskaz&quot;}},
	{name = &quot;script_me&quot;, message = &quot;S&quot;, callback = &quot;callScriptById&quot;, args = {&quot;druzyna&quot;}},
}
buttons_own = {}

-- tworzy klikalne labelki z akcjami. TODO: zamienic na miniconsole + echoLink aby mogly byc tooltipy.
function createButtonsForStat(args, parent)
	local buttons = args.is_enemy and buttons_enemy or (args.is_own and buttons_own or buttons_druzyna)
	local seq = args.seq or get_seq_num()
	local start_x = -10
	local step_x = -15
	for i, v in pairs(buttons) do
		parent[v.name] = createNewLabel({
			name = v.name .. &quot;_&quot; .. seq, message = v.message, fgColor = &quot;white&quot;, color = &quot;black&quot;, fontSize = 7,
			width = 10, height = 10, x = start_x, y = -10,
		}, parent)
		start_x = start_x + step_x
	end
end

-- aktualizuje callbacki do klikania - ustawia aktualne id podpiete pod statystyki
function updateButtonStatsCallback(args, parent)
	local buttons = args.is_enemy and buttons_enemy or (args.is_own and buttons_own or buttons_druzyna)
	for i, v in pairs(buttons) do
		parent[v.name]:setClickCallback(v.callback, parent.id, unpack(v.args))
	end
end

-- Uzywamy tutaj template pattern, yay for design patterns!
-- pojedynczy box z imieniem i statmi jednej istoty
function createStatsContainer(args, parent)
	local kind = &quot;stats_container_&quot; .. (args.is_enemy and &quot;enemy&quot; or args.is_own and &quot;own&quot; or &quot;team&quot;)
	local ctor = {nil, statsContainerCtor}
	local stat = getElementFromPool(kind, ctor, args, parent)
	-- customize!
	stat.imieLabel:echo(&quot;&lt;center&gt;&quot; .. args.imie .. &quot;&lt;/center&gt;&quot;)
	stat.imieLabel:setStyleSheet(getStylesheetForStat(args))
	stat.imie = args.imie
	stat.id = args.id
	stat.is_own = args.is_own

	updateButtonStatsCallback(args, stat)

	return stat
end

function statsContainerCtor(args, parent)
	local seq = args.seq or get_seq_num()
	local stats = Geyser.Container:new({
	  		name = args.name or (&quot;stats_&quot; .. seq),
			v_policy=Geyser.Fixed, h_policy=Geyser.Fixed,
			width = &quot;90px&quot;, height = (18 + 15 * #args.paski + 5),
		}, parent)
	stats.is_enemy = args.is_enemy
	stats.imieLabel = Geyser.Label:new({
			name = &quot;imie&quot; .. seq, x = 0, y = 2,
			width = &quot;100%&quot;, height = &quot;13px&quot;,
			fgColor = &quot;white&quot;,	color = &quot;black&quot;,
			fontSize = 8,
			message = &quot;&quot;
		}, stats)

	createButtonsForStat(args, stats)

	local start_y = 18
	for i, v in pairs(args.paski) do
			k = v[1]
			stats[k] = Geyser.Gauge:new({
				name=k .. seq, x = &quot;2px&quot;, y = start_y,
				width=&quot;-2px&quot;, height=&quot;10px&quot;,
				fontSize = 6,
			}, stats)
			stats[k .. &quot;label&quot;] = Geyser.Label:new({
				name=k .. seq .. &quot;label&quot;, x = &quot;2px&quot;, y = start_y + 1,
				width=&quot;-2px&quot;, height=&quot;10px&quot;,
				fontSize = 7,
			}, stats)
			stats[k .. &quot;label&quot;]:setColor(0, 0, 0, 0)

			stats[k].front:setStyleSheet([[
				background: ]] .. v[2] .. [[;
   				border-top: 1px black solid;
	    		border-left: 1px black solid;
	   		 	border-bottom: 1px black solid;
   		 		border-radius: 2;
	   	 	padding: 1px;
			]])
			stats[k].back:setStyleSheet([[
				background: ]] .. v[3] .. [[;
   				border-top: 1px black solid;
	    		border-left: 1px black solid;
	   			border-bottom: 1px black solid;
				border-radius: 2;
				padding: 1px;
			]])
			start_y = start_y + 15
	end
	
	createBox(stats, &quot;Box&quot; .. seq, &quot;1px&quot;, bcol)
	return stats
end

function createRowWrapper(args, parent)
	local kind = &quot;stats_row_wrapper&quot;
	local ctor = {nil, rowWrapperCtor}
	local row = getElementFromPool(kind, ctor, args, parent)
	-- customize!
	return row
end

function rowWrapperCtor(args, parent)
	local seq = args.seq or get_seq_num()
	local row = createNewLayout({
			align = args.align or &quot;RIGHT&quot;, kind = kind,
			name = args.name or (&quot;row_wrapper_&quot; .. seq),
			height = args.height, width = args.width or &quot;100%&quot;,
			v_policy=Geyser.Fixed, h_policy=Geyser.Fixed
		}, parent)
	return row
end

-- funkcja usuwajaca zagubione elementy z kontenera statystyk
function cleanupStatLeftovers()
	for k, v in pairs(findElementsByAttribute(&quot;kind&quot;, &quot;stats_row_wrapper&quot;, containerStats)) do
		if(table.size(v.windowList) == 0) then
			debugmsg(&quot;* Removing leftover row: &quot; .. v.name)
			local parent = v.container
			removeElement(v)
			parent:reposition()
		else
			debugmsg(&quot;* Row &quot; .. v.name .. &quot; has &quot; .. table.size(v.windowList) .. &quot; elements&quot;)
		end
	end
end

-- obsluga pokazywania i chowania statow dla siebie i czlonkow druzyny
function showStatsFor(id, imie, moje, leader, rank)
	moje = moje or false
	local stat = findElementById(id, containerStats)
	if(stat == nil) then
		debugmsg(&quot;* Creating new stats for &quot; .. imie .. &quot; (&quot; .. id .. &quot;, &quot; .. (moje and &quot;moje&quot; or &quot;czyjes&quot;) .. &quot;)&quot;)
		local paski = moje and paski_ja or paski_inni
		local row = createRowWrapper({height = 20 + 15 * #paski + 3, width = &quot;100%&quot;}, containerDruzyna)
		stat = createStatsContainer({id = id, imie = imie, paski = paski, is_enemy = false, is_own = moje, is_leader = leader, team_rank = rank}, row)
		row:reposition()
		containerDruzyna:reposition()
	end
	stat:show()
	return stat
end

function hideStatsFor(id)
	local stat = findElementById(id, containerStats)
	if(stat == nil) then return end
	local row = stat.container
	local parent = row.container
	debugmsg(&quot;* Removing stats for &quot; .. id)
	for i, v in pairs(row.windowList) do
		removeElement(v)
	end
	removeElement(row)
	parent:reposition()
end

-- obsluga pokazywania i chowania statow dla wrogow
function showEnemyStatsFor(id, enemy_id, enemy_name, move_enemy)
	debugmsg(&quot;* Show stats for &quot; .. id .. &quot;'s enemy &quot; .. enemy_id .. &quot;, &quot; .. enemy_name)
	local nasz_stat = findElementById(id, containerStats)
	local enemy_stat = findElementById(enemy_id, containerStats)
	if(enemy_stat == nil) then
		debugmsg(&quot;* Creating new stats for &quot; .. enemy_name .. &quot; (&quot; .. id .. &quot;)&quot;)
		local seq = get_seq_num()
		local ename = string.split(enemy_name, &quot; &quot;)
		ename = table.concat({ename[#ename], ename[#ename - 1]}, &quot;, &quot;)
		enemy_stat = createStatsContainer({id = enemy_id, imie = ename, real_name = enemy_name, paski = paski_inni, is_enemy = true, name = &quot;stats_&quot; .. seq, seq = seq}, nasz_stat.container)
		nasz_stat.container:reposition()
	elseif(enemy_stat.container ~= nasz_stat.container and move_enemy == true) then
		debugmsg(&quot;* Moving enemy &quot; .. enemy_stat.id .. &quot; to &quot; .. nasz_stat.id)
		local old_row = enemy_stat.container
		old_row:remove(enemy_stat)
		old_row:reposition()
		nasz_stat.container:add(enemy_stat)
		nasz_stat.container:reposition()
	end
	enemy_stat:show()
	return stat
end

function hideEnemyStatsFor(enemy_id)
	local enemy_stat = (type(enemy_id) == &quot;table&quot;) and enemy_id or findElementById(enemy_id, containerStats)
	if(enemy_stat == nil) then return end
	local row = enemy_stat.container
	removeElement(enemy_stat)
	row:reposition()
end

-- aktualizacje wskazniczkow
function setStatGauge(id, gauge, wartosc, max)
	local stat = findElementById(id, containerStats)
	--debugmsg(&quot;setGauge: &quot; .. id .. &quot;, &quot; .. gauge .. &quot; =&gt; &quot; .. wartosc .. &quot;, stat found: &quot; .. (stat ~= nil and &quot;yes&quot; or &quot;no&quot;))
	if(stat ~= nil and stat[gauge] ~= nil and max &gt; 0) then
		stat[gauge]:setValue(wartosc, max);
		stat[gauge .. &quot;label&quot;]:echo( &quot;&lt;center&gt;&lt;b&gt;&quot; .. wartosc .. &quot;&lt;/b&gt; / &quot; .. max .. &quot;&lt;/center&gt;&quot;, &quot;white&quot;)
	end
end

-- onsluga akcje podpietych pod wrogow (te literki klikalne)
function commandEnemyById(id, komenda)
	send(komenda .. &quot; ob_&quot; .. id, false)
end

function callScriptById(id, co)
	if(akcja[co] == nil or akcja[co] == &quot;&quot; or akcja[co] == &quot; &quot;) then
		echo(&quot;    Brak ustalonej akcji. Wykonaj /akcja &quot; .. co .. &quot; kopnij % w kostke\n&quot;)
		return
	end
	local cmd_ev = akcja[co]:gsub(&quot;%%&quot;, &quot;ob_&quot; .. tostring(id))
	send(cmd_ev, false);
end

-- funkcje, powiedzmy, API, dla reszty skryptow
function getWholeTeam()
	return tableMerge(findElementsByAttribute(&quot;kind&quot;, &quot;stats_container_team&quot;, containerStats), findElementsByAttribute(&quot;kind&quot;, &quot;stats_container_own&quot;, containerStats))
end

function getEnemiesFor(id)
	local stat = nil
	if(type(id) == &quot;table&quot;) then 
		stat = id
	else
		stat = findElementById(id, containerStats)
	end
	local t = {}
	for k, v in pairs(stat.container.windowList or {}) do
		if(v.is_enemy) then
			table.insert(t, v.id)
		end
	end
	return t
end</script>
                    <eventHandlerList/>
                </Script>
            </ScriptGroup>
            <Script isActive="yes" isFolder="no">
                <name>czat_windows</name>
                <packageName></packageName>
                <script>-- Czat

-- Pokazuje odpowiednie okienko czatu
function showContainerByName(name)
	for k, w in pairs(mainChatContainer.windowList) do
		if(w.name ~= name and w.name:ends(&quot;Container&quot;)) then
			w:hide()
			w.buttonActivate:setColor(&quot;navy_blue&quot;)
			w.buttonActivate:setFgColor(&quot;white&quot;)
		end	
		if(w.name == name) then
			w.buttonActivate:setColor(&quot;steel_blue&quot;)
			w.buttonActivate:setFgColor(&quot;black&quot;)
			w:show()
		end
	end
end

-- Mruga zakladka od czatu
function flashMe(container, delay, num)
	container:flash(delay)
	num = num - 1
	if(num == 0) then return end
	tempTimer(delay * 2, function() flashMe(container, delay, num) end)
end

function flashChatContainerButton(container, show)
	flashMe(container.buttonActivate, 0.2, 10)
	if(show == true) then
		showContainerByName(container.name)
	end
end

function createChatWindows()
	mainChatContainer = Geyser.Container:new({
		name = &quot;mainChatContainer&quot;,
		x = &quot;-104c&quot;, y = &quot;1c&quot;,
  		width=&quot;101c&quot;, height=&quot;10c&quot;,
	})
	chatContainer = Geyser.Container:new({
		name = &quot;chatContainer&quot;,
		x = &quot;10&quot;, y = &quot;0&quot;,
  		width=&quot;100c&quot;, height=&quot;100%&quot;,
	}, mainChatContainer)
	wizContainer = Geyser.Container:new({
		name = &quot;wizContainer&quot;,
		x = &quot;10&quot;, y = &quot;0&quot;,
  		width=&quot;100c&quot;, height=&quot;100%&quot;,
	}, mainChatContainer)
	chatConsole = Geyser.MiniConsole:new({
  		name=&quot;chat_rozmowy&quot;, x = &quot;1px&quot;, y = &quot;1px&quot;,
  		width=&quot;-1px&quot;, height=&quot;-1px&quot;,
		wrapAt=100,
	}, chatContainer)
	createBox(chatContainer, &quot;chatBox&quot;, &quot;2px&quot;, &quot;gray&quot;)
	chatConsole:setColor(0, 10, 0)
	setTextFormat(&quot;rozmowy&quot;, 0, 10, 0, 255, 255, 255, 0, 0, 0)
	setBgColor(&quot;rozmowy&quot;, 0, 10, 0)

	wizConsole = Geyser.MiniConsole:new({
  		name=&quot;chat_wizline&quot;, x = &quot;1px&quot;, y = &quot;1px&quot;,
  		width=&quot;-1px&quot;, height=&quot;-1px&quot;,
		wrapAt=100,
	}, wizContainer)
	createBox(wizContainer, &quot;wizBox&quot;, &quot;2px&quot;, &quot;gray&quot;)
	wizConsole:setColor(0, 0, 10)
	setTextFormat(&quot;wizline&quot;, 0, 0, 10, 255, 255, 255, 0, 0, 0)
	setBgColor(&quot;wizline&quot;, 0, 0, 10)

	chatContainer.buttonActivate = Geyser.Label:new({
		name = &quot;activate_chat&quot;,
		x = 0, y = 0, width = 14, height = 12,
		color=&quot;steel_blue&quot;, fgColor=&quot;black&quot;, message = &quot;&lt;center&gt;C&lt;/center&gt;&quot;
	}, mainChatContainer);
	chatContainer.buttonActivate:setClickCallback(&quot;showContainerByName&quot;, chatContainer.name)

	wizContainer.buttonActivate = Geyser.Label:new({
		name = &quot;activate_wiz&quot;,
		x = 0, y = 15, width = 14, height = 12,
		color=&quot;navy_blue&quot;, fgColor=&quot;white&quot;, message = &quot;&lt;center&gt;W&lt;/center&gt;&quot;
	}, mainChatContainer);
	wizContainer.buttonActivate:setClickCallback(&quot;showContainerByName&quot;, wizContainer.name)

	wizContainer:hide() -- ukryte domyslnie, po co ono...
end
</script>
                <eventHandlerList/>
            </Script>
            <Script isActive="yes" isFolder="no">
                <name>startup</name>
                <packageName></packageName>
                <script>--Okienka::startup
win_created = win_created or false
stats_created = stats_created or false

WindowWidth = 0;
WindowHeight = 0;
WindowWidth, WindowHeight = getMainWindowSize();
borderTop, borderLeft, borderBottom, borderRight = 50, 50, 20, 0

function okienka_startup()
	if(not win_created) then
		createWindows();
		win_created = true
	end
--	if(not stats_created) then
--		createStats();
--		stats_created = true
--	end
end

-- Tworzy glowne okno z dodatkowymi kontenerami po bokach.
function createWindows()
	setBorderTop(borderTop)
	setBorderBottom(borderBottom)
  	setBorderLeft(borderLeft)
  	setBorderRight(borderRight)

	-- Dodatkowe paski po bokach i na dole
	containerLeft = Geyser.Container:new({
		name = &quot;containerLeft&quot;, x = 0, y = 0,
		width = borderLeft, height=&quot;100%&quot;
	})
	containerTop = Geyser.Container:new({
		name = &quot;containerTop&quot;, x = borderLeft, y = 0,
		width = &quot;100%&quot;, height=borderTop
	})
	containerBottom = Geyser.Container:new({
		name = &quot;containerBottom&quot;, x = borderLeft, y = -borderBottom,
		width = &quot;100%&quot;, height=borderBottom
	})

	-- Okienko z pelna mapa
	mapper = Geyser.Mapper:new({
		name = &quot;mapper&quot;,
		x = &quot;-31%&quot;, y = &quot;12c&quot;,
		width = &quot;30%&quot;, height = &quot;40%&quot;
	})

	createChatWindows(chatContainer);
	createMinimap(containerLeft);
	createSpecialExitsLine(containerBottom);
	createStatsLayout()
end

function createMinimap(parent)
	minimap = Geyser.MiniConsole:new({
		name=&quot;minimap&quot;, x = &quot;-6c&quot;, y = &quot;-4c&quot;,
		width = &quot;5c&quot;, height = &quot;4c&quot;,
		fontSize = 10
	}, parent)
	--minimap:setTextFormat(10, 50, 10, 255, 255, 255, 1, 0, 0);
	return minimap
end

function createSpecialExitsLine(parent)
	minimapExits = Geyser.MiniConsole:new({
  		name=&quot;wyjscia&quot;, x = &quot;1px&quot;, y = &quot;-15px&quot;,
  		width=&quot;-1px&quot;, height=&quot;15px&quot;,
		wrapAt=1000,
	}, containerBottom)
	setTextFormat(&quot;wyjscia&quot;, 0, 20, 0, 200, 255, 200, 0, 0, 0)
	setBgColor(&quot;wyjscia&quot;, 0, 20, 0)
	return minimapExits
end


okienka_startup()
</script>
                <eventHandlerList/>
            </Script>
        </ScriptGroup>
        <ScriptGroup isActive="yes" isFolder="yes">
            <name>Wyjscia</name>
            <packageName></packageName>
            <script>--Wyjscia
mudlet = mudlet or {}
mudlet.mapper_script = true

kierunki = {}
kierunki[&quot;polnoc&quot;] = {{&quot;north&quot;, &quot;n&quot;}, 1, {0, 2, 0}, &quot;poludnie&quot;, &quot;|&quot;}
kierunki[&quot;polnocny-wschod&quot;] = {{&quot;northeast&quot;, &quot;ne&quot;}, 2, {2, 2, 0}, &quot;poludniowy-zachod&quot;, &quot;/&quot;}
kierunki[&quot;polnocny-zachod&quot;] = {{&quot;northwest&quot;, &quot;nw&quot;}, 3, {-2, 2, 0}, &quot;poludniowy-wschod&quot;, &quot;\\&quot;}
kierunki[&quot;wschod&quot;] = {{&quot;east&quot;, &quot;e&quot;}, 4, {2, 0, 0}, &quot;zachod&quot;, &quot;-&quot;}
kierunki[&quot;zachod&quot;] = {{&quot;west&quot;, &quot;w&quot;}, 5, {-2, 0, 0}, &quot;wschod&quot;, &quot;-&quot;}
kierunki[&quot;poludnie&quot;] = {{&quot;south&quot;, &quot;s&quot;}, 6, {0, -2, 0}, &quot;polnoc&quot;, &quot;|&quot;}
kierunki[&quot;poludniowy-wschod&quot;] = {{&quot;southeast&quot;, &quot;se&quot;}, 7, {2, -2, 0}, &quot;polnocny-zachod&quot;, &quot;\\&quot;}
kierunki[&quot;poludniowy-zachod&quot;] = {{&quot;southwest&quot;, &quot;sw&quot;}, 8, {-2, -2, 0}, &quot;polnocny-wschod&quot;, &quot;/&quot;}
kierunki[&quot;gora&quot;] = {{&quot;up&quot;, &quot;u&quot;, &quot;gore&quot;}, 9, {0, 0, 2}, &quot;dol&quot;, &quot;^&quot;}
kierunki[&quot;dol&quot;] = {{&quot;down&quot;, &quot;d&quot;}, 10, {0, 0, -2}, &quot;gora&quot;, &quot;v&quot;}
--kierunki[&quot;wejscie&quot;] = {{&quot;in&quot;}, 11, {0, 0, 2}, &quot;wyjscie&quot;, &quot;i&quot;}
--kierunki[&quot;wyjscie&quot;] = {{&quot;out&quot;}, 12, {0, 0, -2}, &quot;wejscie&quot;, &quot;o&quot;}

env = {}
env[0] = {type = &quot;ROOM_NORMAL&quot;, weight = 2, color = {120, 120, 120, 255}}
env[1] = {type = &quot;ROOM_IN_WATER&quot;, weight = 6, color = {120, 120, 220, 255}}
env[2] = {type = &quot;ROOM_UNDER_WATER&quot;, weight = 20, color = {20, 20, 220, 255}}
env[3] = {type = &quot;ROOM_IN_AIR&quot;, weight = 20, color = {190, 190, 190, 200}}
env[4] = {type = &quot;ROOM_BEACH&quot;, weight = 4, color = {240, 230, 20, 255}}
env[5] = {type = &quot;ROOM_IN_LOW_MOUNTAINS&quot;, weight = 5, color = {120, 120, 120, 255}}
env[6] = {type = &quot;ROOM_IN_HIGH_MOUNTAINS&quot;, weight = 9, color = {80, 80, 80, 255}}
env[7] = {type = &quot;ROOM_IN_HILLS&quot;, weight = 4, color = {120, 160, 120, 255}}
env[8] = {type = &quot;ROOM_IN_FOREST&quot;, weight = 3, color = {0, 220, 0, 255}}
env[9] = {type = &quot;ROOM_IN_PLAIN&quot;, weight = 2, color = {90, 120, 90, 255}}
env[10] = {type = &quot;ROOM_IN_CAVE&quot;, weight = 4, color = {70, 70, 70, 255}}
env[11] = {type = &quot;ROOM_IN_SWAMP&quot;, weight = 5, color = {0, 120, 50, 255}}
env[12] = {type = &quot;ROOM_IN_ROAD&quot;, weight = 1, color = {170, 80, 12, 255}}
env[13] = {type = &quot;ROOM_IN_CITY&quot;, weight = 1, color = {120, 120, 120, 255}}
env[14] = {type = &quot;ROOM_IN_VILLAGE&quot;, weight = 1, color = {120, 120, 120, 255}}
env[15] = {type = &quot;ROOM_UNVISITED&quot;, weight = 100, color = {120, 20, 120, 150}}

-- env ponizej sa zarezerwowane przez mudleta
ENV_START_NUM = 17

service = {}
service[1] = {type = &quot;ROOM_SERVICE_POSTOFFICE&quot;, letter = &quot;P&quot;}
service[2] = {type = &quot;ROOM_SERVICE_SMITH&quot;, letter = &quot;K&quot;}
service[3] = {type = &quot;ROOM_SERVICE_SHOP&quot;, letter = &quot;S&quot;}
service[4] = {type = &quot;ROOM_SERVICE_BANK&quot;, letter = &quot;$&quot;}
service[5] = {type = &quot;ROOM_SERVICE_MESSAGEBOARD&quot;, letter = &quot;T&quot;}
service[6] = {type = &quot;ROOM_SERVICE_WATER&quot;, letter = &quot;w&quot;, color = {0, 0, 200, 255}}
service[7] = {type = &quot;ROOM_SERVICE_PUB&quot;, letter = &quot;J&quot;}
service[8] = {type = &quot;ROOM_SERVICE_BARBER&quot;, letter = &quot;F&quot;}


currentRoom = currentRoom or {id = nil, exits = {}, specialExits = {}, areaId = nil, room = nil}

function setupRoomColors()
	for i, data in ipairs(env) do
		setCustomEnvColor(ENV_START_NUM + i, unpack(data.color))
	end
end

function hasStubExit(roomId, kier)
	local stubs = getExitStubs(roomId)
	if(type(stubs) ~= &quot;table&quot;) then return false end
	if(kierunki[kier] == nil) then return false end
	for i, v in pairs(stubs) do
		if(v == kierunki[kier][2]) then
			return true
		end
	end
	return false
end

function hasExit(roomId, kier)
	local exits = getRoomExits(roomId)
	if(type(exits) ~= &quot;table&quot;) then return false end
	if(kierunki[kier] == nil) then return false end
	for i, v in pairs(exits) do
		if(i == kierunki[kier][1][1]) then
			return true
		end
	end
	return false
end

function deductFromMoveDesc(komenda)
	local do_gory = {&quot;wspina&quot;, &quot;na gore&quot;, &quot;do gory&quot;, &quot;na pietro&quot;}
	local w_dol = {&quot;schodzi&quot;, &quot;na dol&quot;}
	for k, data in pairs(kierunki) do
		if(komenda[2]:find(k)) then
			return data[3][1], data[3][2], data[3][3], true
		end
	end
	for k, v in pairs(do_gory) do
		if(komenda[2]:find(v)) then
			return 0, 0, 2, true
		end
	end
	for k, v in pairs(w_dol) do
		if(komenda[2]:find(v)) then
			return 0, 0, -2, true
		end
	end
	-- nie wiem nic, domyslna wartosc...
	return 0, 0, 0, false
end

function findMostSpacious(spaces)
	-- znalezc ciagle bloki, wybrac najdluzszy
	-- zwrocic srodkowe pole z najdluzszego bloku
	local dx, dy, dz = {0, 0, 0}, {0, 0, 0}, {0, 0, 0}
	local mx, my, mz = 2, 2, 2
	local i, j
	local found = false
	-- poziomy i piony zliczamy. gora-dol ignoruje chwilowo
	for i = 1, 3, 1 do
		for j = 1, 3, 1 do
			if(spaces[(i - 1) * 3 + j][1] == 0) then
				found = true
				dx[j] = dx[j] + 1
				if(dx[j] &gt; dx[mx] or (dx[j] == dx[mx] and spaces[(my - 1) * 3 + j][2] == 0)) then mx = j end
				dy[i] = dy[i] + 1
				if(dy[i] &gt; dy[my] or (dy[i] == dy[my] and spaces[(i - 1) * 3 + mx][3] == 0)) then my = i end
			end
		end
	end
	--display(dx)
	--display(dy)
	if(not found) then
		-- uhuh, nie ma miejsca. Gora i dol w takim razie!
		return 0, 0, 1 --gora na sztywno chwilowo
	end
	local s = spaces[mx + (my - 1) * 3]
	return s[2], s[3], s[4]
end

function getShiftedRoomCoordinates(fromId, komenda)
	local exit = komenda[3]
	local x, y, z = getRoomCoordinates(fromId)
	if(exit == nil or kierunki[exit] == nil) then
		-- wyjscie specjalne. Gdzie umiescic nowa lokacje?
		local dx, dy, dz, fs = deductFromMoveDesc(komenda)
		if(fs) then
			return x + dx, y + dy, z + dz
		end
		local nearby = {}
		for dy = -2, 2, 2 do for dx = -2, 2, 2 do
			local nr = getRoomsByPosition(getRoomArea(fromId), x + dx, y + dy, z + dz)
			table.insert(nearby, {table.size(nr), dx, dy, dz })
		end end
		local nx, ny, nz = findMostSpacious(nearby)
		--echo(&quot;Shifts: &quot; .. nx .. &quot;, &quot; .. ny .. &quot;, &quot; .. nz .. &quot;\n&quot;)
		return x + nx, y + ny, z + nz
	end
	x = x + kierunki[exit][3][1]
	y = y + kierunki[exit][3][2]
	z = z + kierunki[exit][3][3]
	return x, y, z
end

function updateRoomAreaData(room)
	if(room.czas ~= nil) then
		local roomId = getRoomIDbyHash(room.id)
		setRoomUserData(roomId, &quot;czas&quot;, tostring(room.czas))
	end
end

function updateNewRoom(newId, room)
	local prevId = getRoomIDbyHash(room.idprev)
	local x, y, z;
	if(room.idprev ~= nil and type(room.idprev) == &quot;string&quot;) then
		if(prevId == -1) then
			x, y, z = 0, 0, 0
		else
			x, y, z = getShiftedRoomCoordinates(prevId, room.komenda)
		end
	else
		x, y, z = 0, 0, 0
	end
	setRoomCoordinates(newId, x, y, z)
	setRoomWeight(newId, env[room.rodzaj].weight)
	setRoomEnv(newId, ENV_START_NUM + room.rodzaj)
end

function createNewRoom(room, areaId)
	local newId = createRoomID()
	if(newId ~= nil and addRoom(newId)) then
		setRoomArea(newId, areaId)
		setRoomIDbyHash(newId, room.id)
		updateNewRoom(newId, room)
		--echo(&quot;rozmowy&quot;, &quot;New room id: &quot; .. newId .. &quot;, coord: [&quot; .. x .. &quot;,&quot; .. y .. &quot;,&quot; .. z .. &quot;]\n&quot;)
		return newId
	end
	echo(&quot;rozmowy&quot;, &quot;Nie stworzono pokoju!\n&quot;)
	return nil
end

function connectExits(room, roomId, prevId)
	if(prevId == nil or not roomExists(prevId)) then return end
	
	local cmd = room.komenda[3]
	local kdat = kierunki[cmd]
	if(kdat ~= nil) then
		if(hasStubExit(prevId, cmd)) then
			connectExitStubRpl(prevId, roomId, kdat[2], kierunki[kdat[4]][2])
		else
			local prevExits = getRoomExits(prevId)
			if(prevExits[kdat[1][1]] ~= roomId) then
				setExit(prevId, roomId, kdat[2])
			end
		end
	elseif(room.komenda[1] ~= &quot;X&quot;) then
		addSpecialExit(prevId, roomId, room.komenda[3])
	end
end

function getRoomsThatLeadHere(toId)
	local leads = {}
	for roomId, desc in pairs(getRooms()) do
		if(table.contains(getRoomExits(roomId), toId)) then
			table.insert(leads, roomId)
		end
	end
	return leads
end

function getAreaId(nazwa)
	if(table.contains(getAreaTable(), nazwa)) then
		return getAreaTable()[nazwa]
	else
		return addAreaName(nazwa)
	end
end

-- Na razie takie zeby cokolwiek bylo.
-- Dodaje drzwi na mapie jesli wlasnie przeszlismy przez drzwi.
-- Docelowo dodac w gmcp glance info o drzwiach i ich statusie.
function insertDoors(room)
	local roomId = getRoomIDbyHash(room.id)
	local prevId = getRoomIDbyHash(room.idprev)
	if(string.match(room.komenda[2], &quot;drzwi&quot;) and not room.komenda[3] == 0) then
		setDoor(roomId, kierunki[kierunki[room.komenda[3]][4]][1][2], 1)
	end
end

function insertVisibleDoors(roomId, drzwi)
	for i, door_data in ipairs(drzwi) do
		if(kierunki[door_data[1]] ~= nil) then
			if not hasExit(roomId, door_data[1]) then
				setExitStub(roomId, kierunki[door_data[1]][2], true)
			end
         -- Glupie troche - nie rysuje drzwi na exitStubach
			setDoor(roomId, kierunki[door_data[1]][1][2], 2 - door_data[2])
		end
	end
end

function makeMapStubRoom(room)
	local areaId = getAreaId(room.obszar)
	local roomId = getRoomIDbyHash(room.id)
	if(roomId == -1) then
		roomId = createNewRoom(room, areaId)
	end
	return roomId,areaId
end

function makeMapRoom(room)
	local areaId = getAreaId(room.obszar)
	local roomId = getRoomIDbyHash(room.id)
	local prevId = getRoomIDbyHash(room.idprev)

	if(roomId == -1) then
		roomId = createNewRoom(room, areaId)
	end
	connectExits(room, roomId, prevId)
	centerview(roomId)
	currentRoom.id = roomId
	currentRoom.prevId = prevId
	currentRoom.cmd = room.komenda
   currentRoom.areaId = areaId
   currentRoom.room = room
	insertDoors(room)
	return roomId,areaId
end

function connectExitStubRpl(roomId, prevRoomId, directionId, reverseDirectionId)
	setExit(roomId, prevRoomId, directionId)
	setExit(prevRoomId, roomId, reverseDirectionId)
end

function enrichMapRoom(room)
	local roomId = getRoomIDbyHash(room.id)
	if(roomId == nil) then return end

	setRoomName(roomId, room.nazwa)
	for i, k in ipairs(room.wyjscia) do
		if(kierunki[k] ~= nil and not hasExit(roomId, k)) then
			setExitStub(roomId, kierunki[k][2], true)
		end
	end
	if(currentRoom.cmd ~= nil and currentRoom.prevId ~= nil and currentRoom.id == roomId and kierunki[currentRoom.cmd[3]] ~= nil) then
		-- Przypuszczamy, ze jesli wyjscia sie pokrywaja, to sie lacza. Robimy dwustronne od razu.
		local cmd = kierunki[currentRoom.cmd[3]][4]
		local kdat = kierunki[cmd]
		if(hasStubExit(roomId, cmd)) then
			connectExitStubRpl(roomId, currentRoom.prevId, kdat[2], kierunki[kdat[4]][2])
		end
	end
	if(room.usluga &gt; 0 and service[room.usluga] ~= nil) then
		setRoomChar(roomId, service[room.usluga].letter)
		setRoomUserData(roomId, &quot;service&quot;, yajl.to_string(service[room.usluga]))
	end
	insertVisibleDoors(roomId, room.drzwi)
end
</script>
            <eventHandlerList/>
            <Script isActive="yes" isFolder="no">
                <name>startup</name>
                <packageName></packageName>
                <script>--Wyjscia::startup
setupRoomColors()</script>
                <eventHandlerList/>
            </Script>
            <Script isActive="yes" isFolder="no">
                <name>minimap</name>
                <packageName></packageName>
                <script>--Wyjscia::minimap
function displaySpecialExits(exits)
	for k, v in ipairs(exits) do
		fg(minimapExits.name, &quot;dark_olive_green&quot;)
		echo(minimapExits.name, &quot; | &quot;)
		fg(minimapExits.name, &quot;DarkSlateBlue&quot;)
		echoLink(minimapExits.name, v, [[send(&quot;]] .. v .. [[&quot;)]], &quot;Wyjscie specjalne: &quot; .. v, true)		
	end
	if #exits &gt; 0 then
		fg(minimapExits.name, &quot;dark_olive_green&quot;)
		echo(minimapExits.name, &quot; | &quot;)
	end
	resetFormat(minimapExits.name)
end

function displaySpecialExitsFromMap()
	local ex = {}
	for k, v in pairs(getSpecialExitsSwap(currentRoom.id) or {}) do
		if(not table.contains(currentRoom.specialExits or {}, k)) then
			table.insert(ex, k)
		end
	end
	if(#ex &gt; 0) then
		displaySpecialExits(ex)
	end
end

function drawExitsOnConsole(exits)
	local l = { {&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;}, {&quot; &quot;, &quot;o&quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;}, {&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;}, {&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;}}
	local s = {}
	for i, data in ipairs(exits) do
		if(data == &quot;gora&quot;) then
			l[1][5] = &quot;^&quot;
			l[2][5] = &quot;|&quot;
		elseif(data == &quot;dol&quot;) then
			l[3][5] = &quot;v&quot;
			l[2][5] = &quot;|&quot;
		elseif(kierunki[data] ~= nil) then
			idx = kierunki[data][3]
			l[2 - idx[2] / 2][2 + idx[1] / 2] = kierunki[data][5]
		else -- special exit!
			table.insert(s, data)
		end
	end
	--display(l)
	clearWindow(minimap.name)
	clearWindow(minimapExits.name)
	minimap:echo(table.concat(l[1], &quot;&quot;) .. &quot;\n&quot;)
	minimap:echo(table.concat(l[2], &quot;&quot;) .. &quot;\n&quot;)
	minimap:echo(table.concat(l[3], &quot;&quot;) .. &quot;\n&quot;)
	minimap:echo(table.concat(l[4], &quot;&quot;))
	--minimapExits:echo(table.concat(s, &quot;, &quot;))
	displaySpecialExits(s)
	currentRoom.exits = table.n_complement(exits, s)
	currentRoom.specialExits = s
end
</script>
                <eventHandlerList/>
            </Script>
            <Script isActive="yes" isFolder="no">
                <name>speedwalk</name>
                <packageName></packageName>
                <script>--Wyjscia::speedwalk
speedWalkStep = 1
lazikWaiting = false

registerAnonymousEventHandler(&quot;warlock.newRoom&quot;, &quot;doSpeedWalkStep&quot;)

function abortSpeedWalk(komunikat)
	komunikat = komunikat or &quot;    PRZERWANE CHODZENIE.\n&quot;
	speedWalkDir = nil
	speedWalkPath = nil
	stepWalkStep = 1
	echo(komunikat)
end

function doSpeedWalkStep(event)
	lazikWaiting = false
	if(speedWalkPath == nil or #speedWalkPath &lt; 1) then return end
	if(speedWalkStep &gt; #speedWalkPath) then
		abortSpeedWalk(&quot;    CEL PODROZY OSIAGNIETY.\n&quot;)
		return
	end
	
	local expected = speedWalkPath[speedWalkStep - 1] or currentRoom.id
	if(currentRoom.id == tonumber(expected)) then
		local kier = speedWalkDir[speedWalkStep]
		if(kier == &quot;up&quot;) then kier = &quot;u&quot;; end
		if(kier == &quot;down&quot;) then kier = &quot;d&quot;; end
		send(kier, true)
	else
		abortSpeedWalk(&quot;    PRZERWANE CHODZENIE, NIEOCZEKIWANA LOKACJA.\n&quot;)
	end
	speedWalkStep = speedWalkStep + 1
end

function doSpeedWalk()
   cecho(&quot;Droga do przejscia: &quot; .. table.concat(speedWalkDir, &quot;, &quot;) .. &quot;\n    Nacisnij &lt;white:red&gt;F12&lt;reset&gt; aby przerwac.\n&quot;)
   --echo(&quot;Rooms we'll pass through: &quot; .. table.concat(speedWalkPath, &quot;, &quot;) .. &quot;\n&quot;)
	speedWalkStep = 1
	doSpeedWalkStep()
end

function lazikWalkStep()
	if(lazikWaiting) then return end
	lazikWaiting = true
	if(currentRoom.cmd == nil) then
		echo(&quot;    Nie wiem skad przyszlismy.\n&quot;)
		return
	end
	if(kierunki[currentRoom.cmd[3]] == nil) then
		echo(&quot;    Kierunek nie jest standardowy.\n&quot;)
		return
	end
	local powrot = kierunki[currentRoom.cmd[3]][4]
	local dalsze = table.n_complement(currentRoom.exits, { powrot })
	if(table.size(dalsze) &gt; 1) then
		echo(&quot;    Zbyt wiele wyjsc, poddaje sie.\n&quot;)
		return
	end
	if(table.size(dalsze) &lt; 1) then
		echo(&quot;    Brak wyjsc, nie wiem gdzie isc.\n&quot;)
		return
	end
	send(dalsze[1], true)
end

function wyjdzSpecjalnym()
	local cmdsmap = getSpecialExits(currentRoom.id) or {}
	local cmds = currentRoom.specialExits

	for k, v in pairs(cmdsmap) do
		for kk, vv in pairs(v) do
			if(table.index_of(cmds, kk) == nil) then
				table.insert(cmds, kk)
			end
		end
	end
	if(table.size(cmds) == 0) then
		echo(&quot;    Brak wyjsc specjalnych.\n&quot;)
		return
	end
	if(table.size(cmds) == 1) then
		send(cmds[1], true)
		return
	end
	if(table.contains(cmds, &quot;wejscie&quot;)) then
		send(&quot;wejscie&quot;, true)
		return
	end
	if(table.contains(cmds, &quot;schody&quot;)) then
		send(&quot;schody&quot;, true)
		return
	end
	if(table.contains(cmds, &quot;wyjscie&quot;)) then
		send(&quot;wyjscie&quot;, true)
		return
	end
	echo(&quot;    Zbyt wiele wyjsc specjalnych!\n&quot;)
end</script>
                <eventHandlerList/>
            </Script>
            <Script isActive="no" isFolder="no">
                <name>map_support</name>
                <packageName></packageName>
                <script>--map support scripts
</script>
                <eventHandlerList/>
            </Script>
        </ScriptGroup>
        <ScriptGroup isActive="yes" isFolder="yes">
            <name>Utils</name>
            <packageName></packageName>
            <script>--Utils
wycinanie_id = wycinanie_id or {}
seq_id_wycinania = seq_id_wycinania or 0
kolejka_komend = kolejka_komend or {}

function _wycinaj(dodatki)
	dodatki = dodatki or &quot;&quot;
	local t = &quot;__&quot; .. seq_id_wycinania .. &quot;__&quot;;
	seq_id_wycinania = seq_id_wycinania + 1
	wycinanie_id[t] = tempRegexTrigger(&quot;.*&quot;, [[
		if(isPrompt()) then
			killTrigger(wycinanie_id[&quot;]] .. t .. [[&quot;]);
			]] .. dodatki .. [[
--			echo(&quot;\nPrompt, koniec wycinania id &quot; .. wycinanie_id[&quot;]] .. t .. [[&quot;] .. &quot;!\n&quot;)
			wycinanie_id[&quot;]] .. t .. [[&quot;] = nil;
		else
--			echo(&quot;rozmowy&quot;, getCurrentLine());
			selectCurrentLine(); deleteLine();
		end
		]])
end

function wycinajDoPrompta(dodatki)
	tempTimer(0, function() _wycinaj(dodatki) end)
end


function killAll()
	for i = 1, 100000 do
		if(killTrigger(i)) then echo(&quot;Killed trigger &quot; .. i .. &quot;\n&quot;); end
		if(killAlias(i)) then echo(&quot;Killed alias &quot; .. i .. &quot;\n&quot;); end
	end
end

</script>
            <eventHandlerList/>
            <ScriptGroup isActive="yes" isFolder="yes">
                <name>odmiana</name>
                <packageName></packageName>
                <script>--odmiana
odmiana = odmiana or {}
seq_id_odmiana = seq_id_odmiana or 0
odmiana_id = odmiana_id or {}

przypadki = {&quot;Mianownik&quot;, &quot;Dopelniacz&quot;, &quot;Celownik&quot;, &quot;Biernik&quot;, &quot;Narzednik&quot;, &quot;Miejscownik&quot;}

function ustawOdmiane(co, odmtab)
	odmiana[co] = {}
	for i, przyp in pairs(przypadki) do
		odmiana[co][przyp] = odmtab[i]
		odmiana[przyp] = odmiana[przyp] or {}
		odmiana[przyp][odmtab[i]] = co
	end
end

function odmienCallback(co, linia)
	local a, b, c = rex_pcre.new(&quot;([^ ]+): (.+)[.,]&quot;):exec(linia)
	local przypadek = linia:sub(c[1], c[2])
	local wartosc = linia:sub(c[3], c[4])
	odmiana[co] = odmiana[co] or {}
	odmiana[co][przypadek] = wartosc
	odmiana[przypadek] = odmiana[przypadek] or {}
	odmiana[przypadek][wartosc] = co
end

function odmien(co, callback_fun)
	if(co == nil or #co &lt; 1) then return end
	if(odmiana[co] ~= nil) then
		if(callback_fun ~= nil) then tempTimer(0, callback_fun) end
		return
	end
	if(odmiana_id[co] ~= nil) then return end
	callback_fun = callback_fun or &quot;&quot;
	odmiana_id[co] = tempRegexTrigger(&quot;(&gt; |)(.*?(&quot; .. co:lower() .. &quot;|&quot; .. co:title() .. &quot;).*?) odmienia sie nastepujaco:&quot;, [[
		killTrigger(odmiana_id[&quot;]] .. co .. [[&quot;]);
		odmiana_id[&quot;]] .. co .. [[&quot;] = nil;
		_wycinaj(&quot;]] .. callback_fun .. [[&quot;);
		tempLineTrigger(1, 6, &quot;odmienCallback(\&quot;&quot; .. matches[3] .. &quot;\&quot;, line)&quot;);		
	]])
	send(&quot;!odmien &quot; .. co:lower(), false)
end

function sprawdzOdmianyKondycja(komenda, callback_fun)
	if(not komenda) then return end
	callback_fun = callback_fun or &quot;&quot;
	local teamKonTrigger = tempRegexTrigger(&quot;(.+) jest &quot;,
		[[
			odmien(matches[2]);
		]])
	wycinajDoPrompta(&quot;killTrigger(&quot; .. teamKonTrigger .. &quot;); &quot; .. callback_fun)
	send(&quot;!&quot; .. komenda, false)
end
</script>
                <eventHandlerList/>
            </ScriptGroup>
            <Script isActive="yes" isFolder="no">
                <name>idleTimer</name>
                <packageName></packageName>
                <script>--Utils::idleTimer
last_send_time = last_send_time or getTime()

function idleTimer(event_name)
	last_send_time = getTime()
end

function getIdleTime()
	local now = getTime()
	return (now.sec + now.min * 60 + now.hour * 3600) - (last_send_time.sec + last_send_time.min * 60 + last_send_time.hour * 3600)
end</script>
                <eventHandlerList>
                    <string>sysDataSendRequest</string>
                </eventHandlerList>
            </Script>
            <Script isActive="yes" isFolder="no">
                <name>mapper</name>
                <packageName></packageName>
                <script>--Utils::mapper
function clearMap()
	for k, v in pairs(getAreaTable()) do
		echo(&quot;Removing area: &quot; .. k .. &quot;\n&quot;)
		deleteArea(v);
	end
end
</script>
                <eventHandlerList/>
            </Script>
            <Script isActive="yes" isFolder="no">
                <name>paste_cmd</name>
                <packageName></packageName>
                <script>--Utils::paste_cmd
paste_enabled = paste_enabled or nil
paste_alias_id = paste_alias_id or nil

function paste_cmd(tresc)
	if(paste_enabled == nil) then return end
	--denyCurrentSend()
	if(tresc == &quot;/paste_end&quot;) then
		end_paste()
		return
	end
	send(paste_enabled .. &quot; &quot; .. tresc, false)
end

function end_paste()
	if(paste_enabled == nil) then return end
	paste_enabled = nil
	killAlias(paste_alias_id)
	echo(&quot;PASTE mode ended.\n&quot;)
end

function start_paste(cmd)
	end_paste()
	paste_enabled = cmd
	paste_alias_id = tempAlias(&quot;^(.+)&quot;, [[paste_cmd(matches[2])]])
	echo(&quot;Entering PASTE mode. Type /paste_end to end.\n&quot;)
end</script>
                <eventHandlerList/>
            </Script>
        </ScriptGroup>
        <ScriptGroup isActive="yes" isFolder="yes">
            <name>opisy_poziomow</name>
            <packageName></packageName>
            <script>--opisy poziomow
require &quot;rex_pcre&quot;
rex_pcre = rex_pcre or package.loaded.rex_pcre

kondycje = {&quot;na skraju smierci&quot;, &quot;ledwo zyw(y|a|e)&quot;, &quot;zmasakrowan(y|a|e)&quot;, &quot;ciezko rann(y|a|e)&quot;, &quot;w zlym stanie&quot;,
	&quot;w zlej kondycji&quot;, &quot;rann(y|a|e)&quot;, &quot;poranion(y|a|e)&quot;, &quot;pokiereszowan(y|a|e)&quot;, &quot;lekko rann(y|a|e)&quot;, &quot;poturbowan(y|a|e)&quot;,
	&quot;w dobrym stanie&quot;, &quot;w swietnej kondycji&quot;, &quot;w pelni zdrow(|a|e)&quot;}

mana = {&quot;u kresu sil&quot;, &quot;wykonczon(y|a|e)&quot;, &quot;wyczerpan(y|a|e)&quot;, &quot;w zlej kondycji&quot;, &quot;bardzo zmeczon(y|a|e)&quot;,
	&quot;zmeczon(y|a|e)&quot;, &quot;znuzon(y|a|e)&quot;, &quot;oslabion(y|a|e)&quot;, &quot;nadwyrezon(y|a|e)&quot;, &quot;lekko oslabion(y|a|e)&quot;,
	&quot;nadwatlon(y|a|e)&quot;, &quot;w pelni sil&quot;}

panika = {&quot;smiertelnie przerazon(y|a|e)&quot;, &quot;histerycznie przerazon(y|a|e)&quot;, &quot;przerazon(y|a|e)&quot;, &quot;nerwowo&quot;,
	&quot;strachliwie&quot;, &quot;trwozliwie&quot;, &quot;lekliwie&quot;, &quot;niespokojnie&quot;, &quot;nieswojo&quot;, &quot;zaniepokojon(y|a|e)&quot;,
	&quot;spokojnie&quot;, &quot;bezpiecznie&quot;, &quot;bardzo bezpiecznie&quot;}

zmeczenie = {&quot;calkowicie wycienczon(y|a|e)&quot;, &quot;wycienczon(y|a|e)&quot;, &quot;bardzo wyczerpan(y|a|e)&quot;,
	&quot;wyczerpan(y|a|e)&quot;, &quot;nieco wyczerpan(y|a|e)&quot;, &quot;bardzo zmeczon(y|a|e)&quot;, &quot;zmeczon(y|a|e)&quot;,
	&quot;troche zmeczon(y|a|e)&quot;, &quot;wypoczet(y|a|e)&quot;, &quot;w pelni wypoczet(y|a|e)&quot;}

umiejetnosc = {&quot;ledwo&quot;, &quot;mizernie&quot;, &quot;slabo&quot;, &quot;powierzchownie&quot;, &quot;znosnie&quot;, &quot;poprawnie&quot;,
   &quot;umiejetnie&quot;, &quot;swietnie&quot;, &quot;wspaniale&quot;, &quot;fenomenalnie&quot;}

opisy_rany = {
		{&quot;powierzchownie nacina&quot;, &quot;plytko nacina&quot;, &quot;rozcina&quot;, &quot;szeroko kroi&quot;, &quot;gleboko tnie&quot;,
			&quot;paskudnie rozcina&quot;, &quot;rozplatuje&quot;, &quot;w pol rozcina&quot;},
		{&quot;plytko nakluwa&quot;, &quot;bolesnie kluje&quot;, &quot;plytko dzga&quot;, &quot;gleboko pcha&quot;, &quot;dziurawi&quot;,
			&quot;nabija&quot;, &quot;na wylot przebija&quot;},
		{&quot;muska&quot;, &quot;obija&quot;, &quot;uderza&quot;, &quot;tlucze&quot;, &quot;gruchocze&quot;, &quot;kruszy&quot;, &quot;rozgniata&quot;, &quot;miazdzy&quot;,
			&quot;doszczetnie rozgniata&quot;},
		{&quot;[Nn]acina&quot;, &quot;[Rr]ozcina&quot;, &quot;[Tt]nie&quot;, &quot;[Ss]iecze&quot;, &quot;[Rr]abie&quot;, &quot;[Rr]znie&quot;},
		{&quot;ledwo muska&quot;, &quot;lekko rani&quot;, &quot;rani&quot;, &quot;powaznie rani&quot;, &quot;bardzo ciezko rani&quot;, &quot;potwornie rani&quot;, &quot;masakruje&quot;}
	}

opisy_mrany = {
    {&quot;drobne iskierki wyladowan trzeszcza w ranie&quot;,
    	&quot;niebieskie iskry wyladowan skacza po ranie&quot;,
      &quot;spore blekitne iskry przypalaja cialo&quot;,
		&quot;niewielkie blyskawice wnikaja w cialo wokol, wstrzasajac nim spazmatycznie&quot;,
      &quot;mocne wyladowanie skwierczy i wije sie niebieska blyskawica w ranie&quot;,
		&quot;potezne wyladowanie rozswietla rane, rozchodzi sie zapach spalenizny i ozonu&quot;},
    {&quot;cialo lekko sztywnieje wokol rany&quot;,
		&quot;drobiny ziemi wnikaja w cialo&quot;,
		&quot;cialo wokol rany kamienieje&quot;,
      &quot;od rany rozchodzi sie siatka pekniec w kamieniejacym ciele&quot;,
		&quot;fragmenty skamienialego ciala wykruszaja sie i wypadaja&quot;,
      &quot;cialo przemienia sie w kamien&quot;},
	{&quot;slaby rozblysk ognia nieznacznie przypieka cialo&quot;,
		&quot;niewielki wybuch ognia lekko przypala rane&quot;,
      &quot;wybuch ognia okrywa rane, mocno ja przypalajac&quot;,
		&quot;jezory szkarlatnego ognia liza rane, palac ja znacznie&quot;,
		&quot;gwaltowna eksplozja ognia calkowicie zwegla rane&quot;},
	{&quot;cialo wokol pokrywa sie cienka warstwa szronu&quot;,
		&quot;niewielkie krysztaly lodu tworza sie w ranie&quot;,
      	&quot;zmrozone cialo peka&quot;,
      	&quot;zlodowaciale cialo kruszy sie i odpada&quot;,
      	&quot;wokol pryskaja zlodowaciale fragmenty wyrwanego ciala&quot;},
	{&quot;blekitna poswiata oswieca rane&quot;},
   {&quot;ciemna platanina mroku otula rane&quot;,
		&quot;mroczna chmura cienia wnika w rane&quot;,
		&quot;mroczne i splatane wzory mroku i smierci wpijaja sie w rane&quot;,
		&quot;klab mrocznej eksplozji wije sie wokol rany rozkladajac cialo i kosci&quot;},
	}

opisy_dt = {
	{&quot;pchniecie&quot;, &quot;pchniecia&quot;, &quot;pcha&quot;},
	{&quot;ciecie&quot;, &quot;ciecia&quot;, &quot;tnie&quot;},
	{&quot;uderzenie&quot;, &quot;uderzenia&quot;, &quot;uderza&quot;},
	}

opisy_mdt_def = {
		&quot;bezsilny podmuch wiatru&quot;,
		&quot;chmura drobin piasku, zbyt drobnych by skrzywdzic&quot;,
		&quot;krotki strumien ognia i klab dymu&quot;,
		&quot;klab zmrozonej pary, ktora jednak szybko rozprasza sie w powietrzu&quot;,
		&quot;lekka, niebieska poswiata&quot;,
		&quot;czarny klab mrocznej, bezglosnej eksplozji&quot;,
	}

opisy_latwosci = {
		&quot;szczesliwie|ledwo|niezdarnie&quot;, &quot;z trudem|z wysilkiem&quot;, &quot;udanie|wprawnie|prosto&quot;,
		&quot;gladko|umiejetnie|z latwoscia&quot;, &quot;bez trudu|bez problemu|z latwoscia&quot;,
		&quot;dokladnie|perfekcyjnie&quot;
	}

szeregi = {[&quot;pierwszym&quot;] = 1, [&quot;drugim&quot;] = 2, [&quot;trzecim&quot;] = 3}

function jakiPoziomOpisu(tabelka, opis)
	for i, k in ipairs(tabelka) do
		if(type(k) == &quot;table&quot;) then
			local idx, ss = jakiPoziomOpisu(k, opis)
			if(idx ~= nil) then return idx, ss end
		elseif(rex_pcre.new(&quot;^&quot; .. k .. &quot;$&quot;):exec(opis)) then
			return i, #tabelka
		end
	end
	return nil;
end

function jakaPozycjaOpisu(tabelka, opis)
	local mb, me, mk = 0, 0, nil
	for i, k in ipairs(tabelka) do
		if(type(k) == &quot;table&quot;) then
			local b, e, k = jakaPozycjaOpisu(k, opis)
			if(b ~= nil and (me - mb &lt; e - b)) then
				mb, me, mk =  b, e, k
			end
		else
			local b, e = rex_pcre.new(k):exec(opis)
			if(b ~= nil and (me - mb &lt; e - b)) then
				mb, me, mk =  b, e, k
			end
		end
	end
	return mb, me, mk;
end

</script>
            <eventHandlerList/>
        </ScriptGroup>
        <ScriptGroup isActive="yes" isFolder="yes">
            <name>Walka</name>
            <packageName></packageName>
            <script>--walka

function removeAllEnemiesFor(id)
	for i, eid in ipairs(getEnemiesFor(id)) do
		hideEnemyStatsFor(eid)
	end
end

function adjustCombatOnMove()
	local team = getWholeTeam()
	for i, data in ipairs(team) do
		removeAllEnemiesFor(data)
	end
end
</script>
            <eventHandlerList/>
            <ScriptGroup isActive="yes" isFolder="yes">
                <name>statystyka</name>
                <packageName></packageName>
                <script>--Walka::statystyka
zabici = zabici or {}

function dodajZabitego(kto, opis)
	opis = table.remove(opis:split(&quot; &quot;))
	if(zabici[kto] == nil) then zabici[kto] = {} end
	if(zabici[kto][opis] == nil) then zabici[kto][opis] = 0 end
	zabici[kto][opis] = zabici[kto][opis] + 1
end</script>
                <eventHandlerList/>
            </ScriptGroup>
        </ScriptGroup>
        <ScriptGroup isActive="yes" isFolder="yes">
            <name>Druzyna</name>
            <packageName></packageName>
            <script>--Druzyna

-- przy porzucaniu druzyny
function removeTeam()
	--display(debug.traceback())
	local stats = getWholeTeam()
	for k, v in pairs(stats) do
		--display(&quot;Team member: &quot; .. v.name .. &quot;, is own: &quot; .. tostring(v.is_own))
		if(v.is_own ~= true) then
			hideStatsFor(v.id)
		end
	end
end

-- Podmienia opis czlonka druzyny (np. jak sie przedstawil)
function druzynaPodmien(id, imie)
	local stat = findElementById(id, containerStats)
	if(stat ~= nil) then
		stat.imieLabel:echo(&quot;&lt;center&gt;&lt;b&gt;&quot; .. imie .. &quot;&lt;/b&gt;&lt;/center&gt;&quot;)
		stat.imie = imie
	end
end</script>
            <eventHandlerList/>
        </ScriptGroup>
        <ScriptGroup isActive="yes" isFolder="yes">
            <name>gmcp</name>
            <packageName></packageName>
            <script>--gmcp</script>
            <eventHandlerList/>
            <ScriptGroup isActive="yes" isFolder="yes">
                <name>gmcp_Vitals</name>
                <packageName></packageName>
                <script>--gmcp_Vitals
function gmcp_Vitals(event)
	if(gmcp.Char.Vitals == nil) then return end
	local v = gmcp.Char.Vitals
	--display(v)
	local stat = findElementById(v.id, containerStats)
	if(v.self == 1 and stat == nil) then
		showStatsFor(v.id, string.title(v.nazwa), true); --safe-guard: pokaz staty dla gracza jesli nie ma...
	end

	if(v.Hp) then
		setStatGauge(v.id, &quot;kondycja&quot;, v.Hp + 1, #kondycje);
	end
	if(v.Mana) then
		setStatGauge(v.id, &quot;mana&quot;, v.Mana + 1, #mana);
	end
	if(v.Fatigue) then
		setStatGauge(v.id, &quot;zmeczenie&quot;, v.Fatigue + 1, #zmeczenie);
	end
	gmcp.Char.Vitals = nil
end</script>
                <eventHandlerList>
                    <string>gmcp.Char.Vitals</string>
                </eventHandlerList>
            </ScriptGroup>
            <ScriptGroup isActive="yes" isFolder="yes">
                <name>gmcp_Room</name>
                <packageName></packageName>
                <script>--gmcp_Room</script>
                <eventHandlerList/>
                <Script isActive="yes" isFolder="no">
                    <name>gmcp_Room_Glance</name>
                    <packageName></packageName>
                    <script>--gmcp_Room_Glance
function gmcp_Room_Glance(event)
	--display(gmcp.Room)
	if(gmcp.Room.Glance == nil) then return end
	local wyjscia_combined = gmcp.Room.Glance.wyjscia
	for k, v in pairs(gmcp.Room.Glance.drzwi) do table.insert(wyjscia_combined, v[1]) end
	drawExitsOnConsole(wyjscia_combined) -- zmienic na ...FromMap()
	enrichMapRoom(gmcp.Room.Glance)
	displaySpecialExitsFromMap()
	gmcp.Room.Glance = nil
end</script>
                    <eventHandlerList>
                        <string>gmcp.Room.Glance</string>
                    </eventHandlerList>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>gmcp_Room_Info</name>
                    <packageName></packageName>
                    <script>--gmcp_Room_Info
--move_living
function gmcp_Room_Info(event)
	--display(gmcp.Room)
	if(gmcp.Room.Info == nil) then return end
	if(type(gmcp.Room.Info.komenda) ~= &quot;table&quot;) then
		gmcp.Room.Info.komenda = {&quot;X&quot;, &quot;&quot;, &quot;&quot;, 0}
	end
   makeMapRoom(gmcp.Room.Info)
	if(gmcp.Room.Area ~= nil and gmcp.Room.Area.Update ~= nil) then
		updateRoomAreaData(gmcp.Room.Area.Update)
		gmcp.Room.Area.Update = nil
	end
	drawExitsOnConsole({})
	adjustCombatOnMove()
	--echo(&quot;Area: &quot; .. gmcp.Room.Info.obszar .. &quot;\n&quot;)
	raiseEvent(&quot;warlock.newRoom&quot;, gmcp.Room.Info.id)
	gmcp.Room.Info = nil
end</script>
                    <eventHandlerList>
                        <string>gmcp.Room.Info</string>
                    </eventHandlerList>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>gmcp_Room_Leave</name>
                    <packageName></packageName>
                    <script>-- gmcp_Room_Leave
-- Ktos wychodzi z lokacji

function gmcp_Room_Leave()
	if(gmcp.Room.Leave == nil) then return end
	--display(gmcp.Room.Leave)
	local id = gmcp.Room.Leave.id
	hideEnemyStatsFor(id)
	gmcp.Room.Leave = nil
end</script>
                    <eventHandlerList>
                        <string>gmcp.Room.Leave</string>
                    </eventHandlerList>
                </Script>
            </ScriptGroup>
            <ScriptGroup isActive="yes" isFolder="yes">
                <name>gmcp_Introduced</name>
                <packageName></packageName>
                <script>--gmcp_Introduced
function gmcp_Introduced(event)
	--display(gmcp.Introduced)
	local info = gmcp.Introduced.Info
	local co = info.odmiana[1]

	ustawOdmiane(co, info.odmiana)
	druzynaPodmien(info.id, co);
end</script>
                <eventHandlerList>
                    <string>gmcp.Introduced</string>
                </eventHandlerList>
            </ScriptGroup>
            <ScriptGroup isActive="yes" isFolder="yes">
                <name>gmcp_Team</name>
                <packageName></packageName>
                <script>--gmcp_Team</script>
                <eventHandlerList/>
                <Script isActive="yes" isFolder="no">
                    <name>gmcp_Team_Join</name>
                    <packageName></packageName>
                    <script>--gmcp_Team_Join
--Ktos dołącza do istniejącej drużyny
function gmcp_Team_Join()
	local v = gmcp.Team.Join
	if(v == nil) then return end
	--display(v)
	showStatsFor(v.id, v.nazwa, v.self == 1, false, v.szereg)
	gmcp.Team.Join = nil
end</script>
                    <eventHandlerList>
                        <string>gmcp.Team.Join</string>
                    </eventHandlerList>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>gmcp_Team_Leave</name>
                    <packageName></packageName>
                    <script>--gmcp_Team_Leave
--Ktoś opuszcza drużynę
function gmcp_Team_Leave()
	local v = gmcp.Team.Leave
	if(v == nil) then return end
	--display(v)
	hideStatsFor(v.id)
	gmcp.Team.Leave = nil
end</script>
                    <eventHandlerList>
                        <string>gmcp.Team.Leave</string>
                    </eventHandlerList>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>gmcp_Team_Status</name>
                    <packageName></packageName>
                    <script>--gmcp_Team_Status
--Status z pełną lista drużyny.
function gmcp_Team_Status()
	local v = gmcp.Team.Status
	if(v == nil) then return end
	--display(v)
	if(v.prowadzacy == 0) then
		removeTeam()
		return
	end
	for i, t in pairs(v.druzyna) do
		showStatsFor(t.id, t.nazwa, t.self == 1, t.id == v.prowadzacy.id, t.szereg)
	end
	gmcp.Team.Status = nil
end</script>
                    <eventHandlerList>
                        <string>gmcp.Team.Status</string>
                    </eventHandlerList>
                </Script>
            </ScriptGroup>
            <ScriptGroup isActive="yes" isFolder="yes">
                <name>gmcp_Attack</name>
                <packageName></packageName>
                <script>--gmcp_Attack

function gmcp_Attack()
	if(gmcp.Attack == nil) then return end
	local a = gmcp.Attack
	--display(a)
	local stat = findElementById(a.kogo.id, containerStats)
	if(stat ~= nil and stat.is_enemy == false) then
		-- pokazmy okienko statow dla zaatakowanego czlonka druzyny przez wroga
		showEnemyStatsFor(a.kogo.id, a.kto.id, a.kto.nazwa, true)
	end
	stat = findElementById(a.kto.id, containerStats)
	if(stat ~= nil and stat.is_enemy == false) then
		-- pokazmy okienko statow dla zaatakowanego wroga przez czlonka druzyny
		showEnemyStatsFor(a.kto.id, a.kogo.id, a.kogo.nazwa, false)
	end
	raiseEvent(&quot;warlock.someoneAttacks&quot;, a.kto.nazwa, a.kogo.nazwa)
	gmcp.Attack = nil
end
</script>
                <eventHandlerList>
                    <string>gmcp.Attack</string>
                </eventHandlerList>
            </ScriptGroup>
            <ScriptGroup isActive="yes" isFolder="yes">
                <name>gmcp_Kill</name>
                <packageName></packageName>
                <script>--gmcp_Kill

function gmcp_Kill()
	if(gmcp.Kill == nil) then return end
	local a = gmcp.Kill
	--display(a)
	hideEnemyStatsFor(a.kogo.id)
	dodajZabitego(a.kto.nazwa, a.kogo.nazwa)
	raiseEvent(&quot;warlock.someoneDied&quot;, a.kto.nazwa, a.kogo.nazwa)
	gmcp.Kill = nil
end</script>
                <eventHandlerList>
                    <string>gmcp.Kill</string>
                </eventHandlerList>
            </ScriptGroup>
            <ScriptGroup isActive="yes" isFolder="yes">
                <name>gmcp_Init</name>
                <packageName></packageName>
                <script>--gmcp_Init
function gmcp_Init()
	if(gmcp.Gmcp.Init == nil) then return end
	--display(gmcp.Gmcp.Init)
	for i, data in ipairs(getWholeTeam()) do
		removeAllEnemiesFor(data)
		hideStatsFor(data.id)
	end
	showStatsFor(gmcp.Gmcp.Init.id, string.title(gmcp.Gmcp.Init.nazwa), true)
	tempTimer(2.0, [[ raiseEvent(&quot;warlock.newSession&quot;, ]] .. gmcp.Gmcp.Init.nazwa .. [[ ) ]])
	gmcp.Gmcp.Init = nil
end
</script>
                <eventHandlerList>
                    <string>gmcp.Gmcp.Init</string>
                </eventHandlerList>
            </ScriptGroup>
            <ScriptGroup isActive="yes" isFolder="yes">
                <name>gmcp_Area_Update</name>
                <packageName></packageName>
                <script>-- gmcp_Area_Update
function gmcp_Area_Update()
	if(gmcp.Room.Area.Update == nil) then return end
	--display(gmcp.Room.Area.Update)
	local roomId = getRoomIDbyHash(gmcp.Room.Area.Update.id)
	if(roomId ~= -1) then
		local czas = gmcp.Room.Area.Update.czas
		local zapisany = getRoomUserData(roomId, &quot;czas&quot;);
		if(zapisany ~= tostring(czas)) then
			local areaId = getAreaId(gmcp.Room.Area.Update.obszar)
			echo(&quot; * Kasuje obszar '&quot; .. getRoomAreaName(areaId) .. &quot;', wykryte zmiany.\n&quot;)
			deleteArea(areaId)
		end
	end
	--echo(&quot; * rID: &quot; .. roomId .. &quot;, czas: &quot; .. czas .. &quot; vs zapisany czas: &quot; .. zapisany .. &quot;\n&quot;)
	--gmcp.Room.Area.Update = nil
end</script>
                <eventHandlerList>
                    <string>gmcp.Room.Area.Update</string>
                </eventHandlerList>
            </ScriptGroup>
        </ScriptGroup>
        <ScriptGroup isActive="yes" isFolder="yes">
            <name>pomoc</name>
            <packageName></packageName>
            <script>--Pomoc
scriptsVersion = &quot;3.7.22&quot;

registerAnonymousEventHandler(&quot;sysDataSendRequest&quot;, &quot;handleHelpCommands&quot;)
cecho(&quot;\n&lt;white&gt;Wpisz /help aby uzyskac pomoc.\n\n&quot;)

function makeHelpLink(tekst, description)
	selectString(tekst, 1);
	fg(&quot;white&quot;);
	setUnderline(true);
	setLink([[send(&quot;?]] .. tekst .. [[&quot;)]], description);
	resetFormat();
	deselect()
end

function makeHelpLinksFromSeeAlso(linia)
	local tematy = linia:gsub(&quot; &quot;, &quot;&quot;):gsub(&quot;\t&quot;, &quot;&quot;):split(&quot;,&quot;)
	for i,v in pairs(tematy) do
		makeHelpLink(v, v);
	end
end

function handleHelpCommands(eventName, cmd)
	if(cmd:sub(1, 1) == &quot;?&quot;) then
		--zadanie pomocy!
		local temat = cmd:sub(2)
		local trigs = {}
		if(temat == &quot;ogolne&quot;) then
			table.insert(trigs, tempRegexTrigger(&quot;([a-z]+)[ ]+-[ ]+([a-zA-Z]+.*)&quot;, [[
				makeHelpLink(matches[2], matches[3]);
			]]));
		end
		table.insert(trigs, tempRegexTrigger(&quot;(ZOBACZ TEZ|PATRZ TEZ|ZOBACZ TAKZE)&quot;, [[
			tempLineTrigger(1, 1, &quot;makeHelpLinksFromSeeAlso(line)&quot;);
		]]));
		local s = &quot;&quot;
		for i, v in pairs(trigs) do
			s = s .. &quot;killTrigger(&quot; .. v .. &quot;);\n&quot;
		end
		s = s .. [[ killTrigger(trigKoniecPomocy); ]]
		trigKoniecPomocy = tempRegexTrigger(&quot;^(EOF|Nie ma pomocy na ten temat.)&quot;, s);
	end	
end

function displayHelp()
	echo(&quot;    Aliasy:\n&quot;)
	echo(&quot;/version - informacja o wersji skryptow (&quot; .. scriptsVersion .. &quot;)\n&quot;)
	echo(&quot;/paste &lt;komenda&gt; - wklejanie tekstu uzywajac komendy\n&quot;)
	echo(&quot;/eval &lt;skrypt&gt; - wykonanie skryptu LUA z linii komend\n&quot;)
	echo(&quot;/zabici - pokazanie statystyk zabitych wrogow\n&quot;)
	echo(&quot;/drzwi (n|e|s|w|ne|...) (0|1|2|3) - dodaje drzwi w danym kierunku\n&quot;)
	echo(&quot;/quit - wyjscie (moze psuc profil)\n&quot;)
	echo(&quot;/kolory - pokazuje tablice nazwanych kolorow\n&quot;)
	echo(&quot;/akcja (przeciwnik|druzyna|inni) komenda - ustawianie akcji dodatkowych (pod literka S)\n&quot;)
	echo(&quot;\n&quot;)
	echo(&quot;    Klawisze:\n&quot;)
	echo(&quot;Klawiatura numeryczna:\n&quot;)
	echo(&quot;  0..9 - chodzenie (+ctrl - przemykanie, +ctrl+alt - przemykanie z druzyna\n&quot;)
	echo(&quot;  - - wyjscie\n&quot;)
	echo(&quot;  + - wyjscie specjalne lub jedno z (schody, wejscie)\n&quot;)
	echo(&quot;  * - lazik traktowy\n&quot;)
	echo(&quot;Klawisze funkcyjne:\n&quot;)
	echo(&quot;  F5 - kondycja\n&quot;)
	echo(&quot;  F6 - kondycja przeciwnika\n&quot;)
	echo(&quot;  F8 - stan\n&quot;)
	echo(&quot;  F12- przerwanie auto-chodzika\n&quot;)
	echo(&quot;\n&quot;)
	echo(&quot;Obsluga mapy:\n&quot;)
	echo(&quot;  kolko myszy - przyblizanie/oddalanie\n&quot;)
	echo(&quot;  ALT + przycisk myszy - przesuwanie mapy\n&quot;)
	echo(&quot;  lewy przycisk myszy - zaznaczanie lokacji (pojedynczo lub wiele naraz)\n&quot;)
	echo(&quot;  CTRL + lewy przycisk - dodawanie/odejmowanie lokacji z zaznaczenia\n&quot;)
	echo(&quot;  prawy przycisk myszy - menu kontekstowe do zaznaczonych wczesniej lokacji\n&quot;)
	echo(&quot;\n&quot;)
end</script>
            <eventHandlerList/>
        </ScriptGroup>
    </ScriptPackage>
    <KeyPackage>
        <KeyGroup isActive="yes" isFolder="yes">
            <name>kierunki_numpad</name>
            <packageName></packageName>
            <script></script>
            <command></command>
            <keyCode>-1</keyCode>
            <keyModifier>-1</keyModifier>
            <Key isActive="yes" isFolder="no">
                <name>north</name>
                <packageName></packageName>
                <script></script>
                <command>n</command>
                <keyCode>56</keyCode>
                <keyModifier>536870912</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>south</name>
                <packageName></packageName>
                <script></script>
                <command>s</command>
                <keyCode>50</keyCode>
                <keyModifier>536870912</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>east</name>
                <packageName></packageName>
                <script></script>
                <command>e</command>
                <keyCode>54</keyCode>
                <keyModifier>536870912</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>west</name>
                <packageName></packageName>
                <script></script>
                <command>w</command>
                <keyCode>52</keyCode>
                <keyModifier>536870912</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>nw</name>
                <packageName></packageName>
                <script></script>
                <command>nw</command>
                <keyCode>55</keyCode>
                <keyModifier>536870912</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>ne</name>
                <packageName></packageName>
                <script></script>
                <command>ne</command>
                <keyCode>57</keyCode>
                <keyModifier>536870912</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>sw</name>
                <packageName></packageName>
                <script></script>
                <command>sw</command>
                <keyCode>49</keyCode>
                <keyModifier>536870912</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>se</name>
                <packageName></packageName>
                <script></script>
                <command>se</command>
                <keyCode>51</keyCode>
                <keyModifier>536870912</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>up</name>
                <packageName></packageName>
                <script></script>
                <command>u</command>
                <keyCode>53</keyCode>
                <keyModifier>536870912</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>down</name>
                <packageName></packageName>
                <script></script>
                <command>d</command>
                <keyCode>48</keyCode>
                <keyModifier>536870912</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>exit</name>
                <packageName></packageName>
                <script></script>
                <command>wyjscie</command>
                <keyCode>45</keyCode>
                <keyModifier>536870912</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>pierwsze_specjalne</name>
                <packageName></packageName>
                <script>wyjdzSpecjalnym()</script>
                <command></command>
                <keyCode>43</keyCode>
                <keyModifier>536870912</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>sneak_n</name>
                <packageName></packageName>
                <script></script>
                <command>przemknij sie na n</command>
                <keyCode>56</keyCode>
                <keyModifier>603979776</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>sneak_s</name>
                <packageName></packageName>
                <script></script>
                <command>przemknij sie na s</command>
                <keyCode>50</keyCode>
                <keyModifier>603979776</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>sneak_w</name>
                <packageName></packageName>
                <script></script>
                <command>przemknij sie na w</command>
                <keyCode>52</keyCode>
                <keyModifier>603979776</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>sneak_e</name>
                <packageName></packageName>
                <script></script>
                <command>przemknij sie na e</command>
                <keyCode>54</keyCode>
                <keyModifier>603979776</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>sneak_nw</name>
                <packageName></packageName>
                <script></script>
                <command>przemknij sie na nw</command>
                <keyCode>55</keyCode>
                <keyModifier>603979776</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>sneak_ne</name>
                <packageName></packageName>
                <script></script>
                <command>przemknij sie na ne</command>
                <keyCode>57</keyCode>
                <keyModifier>603979776</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>sneak_sw</name>
                <packageName></packageName>
                <script></script>
                <command>przemknij sie na sw</command>
                <keyCode>49</keyCode>
                <keyModifier>603979776</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>sneak_se</name>
                <packageName></packageName>
                <script></script>
                <command>przemknij sie na se</command>
                <keyCode>51</keyCode>
                <keyModifier>603979776</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>sneak_u</name>
                <packageName></packageName>
                <script></script>
                <command>przemknij sie na u</command>
                <keyCode>53</keyCode>
                <keyModifier>603979776</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>sneak_d</name>
                <packageName></packageName>
                <script></script>
                <command>przemknij sie na d</command>
                <keyCode>48</keyCode>
                <keyModifier>603979776</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>sneak_team_n</name>
                <packageName></packageName>
                <script></script>
                <command>przemknij sie z druzyna na polnoc</command>
                <keyCode>56</keyCode>
                <keyModifier>738197504</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>sneak_team_s</name>
                <packageName></packageName>
                <script></script>
                <command>przemknij sie z druzyna na s</command>
                <keyCode>50</keyCode>
                <keyModifier>738197504</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>sneak_team_w</name>
                <packageName></packageName>
                <script></script>
                <command>przemknij sie z druzyna na w</command>
                <keyCode>52</keyCode>
                <keyModifier>738197504</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>sneak_team_e</name>
                <packageName></packageName>
                <script></script>
                <command>przemknij sie z druzyna na e</command>
                <keyCode>54</keyCode>
                <keyModifier>738197504</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>sneak_team_nw</name>
                <packageName></packageName>
                <script></script>
                <command>przemknij sie z druzyna na nw</command>
                <keyCode>55</keyCode>
                <keyModifier>738197504</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>sneak_team_ne</name>
                <packageName></packageName>
                <script></script>
                <command>przemknij sie z druzyna na ne</command>
                <keyCode>57</keyCode>
                <keyModifier>738197504</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>sneak_team_sw</name>
                <packageName></packageName>
                <script></script>
                <command>przemknij sie z druzyna na sw</command>
                <keyCode>49</keyCode>
                <keyModifier>738197504</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>sneak_team_se</name>
                <packageName></packageName>
                <script></script>
                <command>przemknij sie z druzyna na se</command>
                <keyCode>51</keyCode>
                <keyModifier>738197504</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>sneak_team_u</name>
                <packageName></packageName>
                <script></script>
                <command>przemknij sie z druzyna na u</command>
                <keyCode>53</keyCode>
                <keyModifier>738197504</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>sneak_team_d</name>
                <packageName></packageName>
                <script></script>
                <command>przemknij sie z druzyna na d</command>
                <keyCode>48</keyCode>
                <keyModifier>738197504</keyModifier>
            </Key>
        </KeyGroup>
        <KeyGroup isActive="yes" isFolder="yes">
            <name>stan</name>
            <packageName></packageName>
            <script></script>
            <command></command>
            <keyCode>-1</keyCode>
            <keyModifier>-1</keyModifier>
            <Key isActive="yes" isFolder="no">
                <name>kondycja wszystkich</name>
                <packageName></packageName>
                <script>send(&quot;!kondycja wszystkich&quot;, false)</script>
                <command></command>
                <keyCode>16777268</keyCode>
                <keyModifier>0</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>kondycja moja i wroga</name>
                <packageName></packageName>
                <script>send(&quot;!kondycja&quot;, false)
send(&quot;!kondycja przeciwnika&quot;, false)</script>
                <command></command>
                <keyCode>16777269</keyCode>
                <keyModifier>0</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>stan</name>
                <packageName></packageName>
                <script>send(&quot;!stan&quot;, false)</script>
                <command></command>
                <keyCode>16777271</keyCode>
                <keyModifier>0</keyModifier>
            </Key>
        </KeyGroup>
        <KeyGroup isActive="yes" isFolder="yes">
            <name>pomoc</name>
            <packageName></packageName>
            <script></script>
            <command></command>
            <keyCode>16777264</keyCode>
            <keyModifier>0</keyModifier>
            <Key isActive="yes" isFolder="no">
                <name>ogolne</name>
                <packageName></packageName>
                <script>send(&quot;?ogolne&quot;)</script>
                <command></command>
                <keyCode>16777265</keyCode>
                <keyModifier>0</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>klient</name>
                <packageName></packageName>
                <script>displayHelp()</script>
                <command></command>
                <keyCode>16777264</keyCode>
                <keyModifier>0</keyModifier>
            </Key>
        </KeyGroup>
        <KeyGroup isActive="yes" isFolder="yes">
            <name>speedwalk</name>
            <packageName></packageName>
            <script></script>
            <command></command>
            <keyCode>-1</keyCode>
            <keyModifier>-1</keyModifier>
            <Key isActive="yes" isFolder="no">
                <name>abort</name>
                <packageName></packageName>
                <script>abortSpeedWalk()</script>
                <command></command>
                <keyCode>16777275</keyCode>
                <keyModifier>0</keyModifier>
            </Key>
            <Key isActive="yes" isFolder="no">
                <name>lazik</name>
                <packageName></packageName>
                <script>lazikWalkStep()</script>
                <command></command>
                <keyCode>42</keyCode>
                <keyModifier>536870912</keyModifier>
            </Key>
        </KeyGroup>
    </KeyPackage>
</MudletPackage>
